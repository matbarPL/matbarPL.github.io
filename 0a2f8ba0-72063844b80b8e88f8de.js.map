{"version":3,"file":"0a2f8ba0-72063844b80b8e88f8de.js","mappings":"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","sources":["webpack://matbarPL/./node_modules/react-flow-renderer/dist/esm/index.js"],"sourcesContent":["import { _ as _slicedToArray, a as _defineProperty, P as Position, C as ConnectionMode, g as getHostForElement, u as useStoreApi, b as useStore, c as addEdge, d as getMarkerId, i as internalsSymbol, r as rectToBox, e as getConnectedEdges, f as getDimensions, h as PanOnScrollMode, j as clamp, k as getNodesInside, l as getSelectionChanges, m as clampPosition, p as pointToRendererPoint, n as handleNodeClick, o as getRectOfNodes, q as ConnectionLineType, M as MarkerType, s as isNumeric, t as getMouseHandler$1, v as Provider$1, w as createStore, x as infiniteExtent, y as applyNodeChanges, z as applyEdgeChanges } from './index-a12c80bd.js';\nexport { H as BackgroundVariant, q as ConnectionLineType, C as ConnectionMode, M as MarkerType, h as PanOnScrollMode, P as Position, c as addEdge, z as applyEdgeChanges, y as applyNodeChanges, e as getConnectedEdges, E as getIncomers, D as getOutgoers, o as getRectOfNodes, G as getTransformForBounds, i as internalsSymbol, B as isEdge, A as isNode, F as updateEdge, b as useStore, u as useStoreApi } from './index-a12c80bd.js';\nimport { _ as _objectWithoutProperties } from './index-20df97c0.js';\nexport { C as ControlButton, i as Controls } from './index-20df97c0.js';\nimport React, { memo, useRef, useState, useEffect, createContext, forwardRef, useContext, useMemo, useCallback } from 'react';\nimport cc from 'classcat';\nimport { _ as _toConsumableArray, u as useReactFlow } from './useReactFlow-993c30ca.js';\nexport { u as useReactFlow } from './useReactFlow-993c30ca.js';\nimport shallow from 'zustand/shallow';\nimport { zoom, zoomIdentity } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nexport { default as MiniMap } from './index2.js';\nexport { default as Background } from './index3.js';\nexport { default as useUpdateNodeInternals } from './useUpdateNodeInternals.js';\nexport { default as useNodes } from './useNodes.js';\nexport { default as useEdges } from './useEdges.js';\nexport { default as useViewport } from './useViewport.js';\nimport 'zustand';\nimport 'zustand/context';\nvar accounts = ['paid-pro', 'paid-sponsor', 'paid-enterprise', 'paid-custom'];\nfunction Attribution(_ref) {\n  var proOptions = _ref.proOptions,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? 'bottom-right' : _ref$position;\n  if (proOptions !== null && proOptions !== void 0 && proOptions.account && accounts.includes(proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) && proOptions !== null && proOptions !== void 0 && proOptions.hideAttribution) {\n    return null;\n  }\n  var positionClasses = \"\".concat(position).split('-');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__attribution'].concat(_toConsumableArray(positionClasses))),\n    \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://reactflow.dev\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"React Flow\"));\n}\nvar _excluded$2 = [\"x\", \"y\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"children\", \"className\"];\nfunction ownKeys$c(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$c(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$c(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$c(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar EdgeText = function EdgeText(_ref) {\n  var x = _ref.x,\n    y = _ref.y,\n    label = _ref.label,\n    _ref$labelStyle = _ref.labelStyle,\n    labelStyle = _ref$labelStyle === void 0 ? {} : _ref$labelStyle,\n    _ref$labelShowBg = _ref.labelShowBg,\n    labelShowBg = _ref$labelShowBg === void 0 ? true : _ref$labelShowBg,\n    _ref$labelBgStyle = _ref.labelBgStyle,\n    labelBgStyle = _ref$labelBgStyle === void 0 ? {} : _ref$labelBgStyle,\n    _ref$labelBgPadding = _ref.labelBgPadding,\n    labelBgPadding = _ref$labelBgPadding === void 0 ? [2, 4] : _ref$labelBgPadding,\n    _ref$labelBgBorderRad = _ref.labelBgBorderRadius,\n    labelBgBorderRadius = _ref$labelBgBorderRad === void 0 ? 2 : _ref$labelBgBorderRad,\n    children = _ref.children,\n    className = _ref.className,\n    rest = _objectWithoutProperties(_ref, _excluded$2);\n  var edgeRef = useRef(null);\n  var _useState = useState({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    edgeTextBbox = _useState2[0],\n    setEdgeTextBbox = _useState2[1];\n  var edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n  useEffect(function () {\n    if (edgeRef.current) {\n      var textBbox = edgeRef.current.getBBox();\n      setEdgeTextBbox({\n        x: textBbox.x,\n        y: textBbox.y,\n        width: textBbox.width,\n        height: textBbox.height\n      });\n    }\n  }, [label]);\n  if (typeof label === 'undefined' || !label) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"g\", _objectSpread$c({\n    transform: \"translate(\".concat(x - edgeTextBbox.width / 2, \" \").concat(y - edgeTextBbox.height / 2, \")\"),\n    className: edgeTextClasses\n  }, rest), labelShowBg && /*#__PURE__*/React.createElement(\"rect\", {\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\n    x: -labelBgPadding[0],\n    y: -labelBgPadding[1],\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\n    className: \"react-flow__edge-textbg\",\n    style: labelBgStyle,\n    rx: labelBgBorderRadius,\n    ry: labelBgBorderRadius\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    className: \"react-flow__edge-text\",\n    y: edgeTextBbox.height / 2,\n    dy: \"0.3em\",\n    ref: edgeRef,\n    style: labelStyle\n  }, label), children);\n};\nvar EdgeText$1 = /*#__PURE__*/memo(EdgeText);\nvar BaseEdge = function (_ref) {\n  var path = _ref.path,\n    centerX = _ref.centerX,\n    centerY = _ref.centerY,\n    label = _ref.label,\n    labelStyle = _ref.labelStyle,\n    labelShowBg = _ref.labelShowBg,\n    labelBgStyle = _ref.labelBgStyle,\n    labelBgPadding = _ref.labelBgPadding,\n    labelBgBorderRadius = _ref.labelBgBorderRadius,\n    style = _ref.style,\n    markerEnd = _ref.markerEnd,\n    markerStart = _ref.markerStart;\n  var text = label ? /*#__PURE__*/React.createElement(EdgeText$1, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    style: style,\n    d: path,\n    className: \"react-flow__edge-path\",\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  }), text);\n};\nfunction getControl(_ref) {\n  var pos = _ref.pos,\n    x1 = _ref.x1,\n    y1 = _ref.y1,\n    x2 = _ref.x2,\n    y2 = _ref.y2;\n  var ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      {\n        ctX = 0.5 * (x1 + x2);\n        ctY = y1;\n      }\n      break;\n    case Position.Top:\n    case Position.Bottom:\n      {\n        ctX = x1;\n        ctY = 0.5 * (y1 + y2);\n      }\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getSimpleBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n    sourceY = _ref2.sourceY,\n    _ref2$sourcePosition = _ref2.sourcePosition,\n    sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n    targetX = _ref2.targetX,\n    targetY = _ref2.targetY,\n    _ref2$targetPosition = _ref2.targetPosition,\n    targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition;\n  var _getControl = getControl({\n      pos: sourcePosition,\n      x1: sourceX,\n      y1: sourceY,\n      x2: targetX,\n      y2: targetY\n    }),\n    _getControl2 = _slicedToArray(_getControl, 2),\n    sourceControlX = _getControl2[0],\n    sourceControlY = _getControl2[1];\n  var _getControl3 = getControl({\n      pos: targetPosition,\n      x1: targetX,\n      y1: targetY,\n      x2: sourceX,\n      y2: sourceY\n    }),\n    _getControl4 = _slicedToArray(_getControl3, 2),\n    targetControlX = _getControl4[0],\n    targetControlY = _getControl4[1];\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getSimpleBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n    sourceY = _ref3.sourceY,\n    _ref3$sourcePosition = _ref3.sourcePosition,\n    sourcePosition = _ref3$sourcePosition === void 0 ? Position.Bottom : _ref3$sourcePosition,\n    targetX = _ref3.targetX,\n    targetY = _ref3.targetY,\n    _ref3$targetPosition = _ref3.targetPosition,\n    targetPosition = _ref3$targetPosition === void 0 ? Position.Top : _ref3$targetPosition;\n  var _getControl5 = getControl({\n      pos: sourcePosition,\n      x1: sourceX,\n      y1: sourceY,\n      x2: targetX,\n      y2: targetY\n    }),\n    _getControl6 = _slicedToArray(_getControl5, 2),\n    sourceControlX = _getControl6[0],\n    sourceControlY = _getControl6[1];\n  var _getControl7 = getControl({\n      pos: targetPosition,\n      x1: targetX,\n      y1: targetY,\n      x2: sourceX,\n      y2: sourceY\n    }),\n    _getControl8 = _slicedToArray(_getControl7, 2),\n    targetControlX = _getControl8[0],\n    targetControlY = _getControl8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar SimpleBezierEdge = /*#__PURE__*/memo(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n    sourceY = _ref4.sourceY,\n    targetX = _ref4.targetX,\n    targetY = _ref4.targetY,\n    _ref4$sourcePosition = _ref4.sourcePosition,\n    sourcePosition = _ref4$sourcePosition === void 0 ? Position.Bottom : _ref4$sourcePosition,\n    _ref4$targetPosition = _ref4.targetPosition,\n    targetPosition = _ref4$targetPosition === void 0 ? Position.Top : _ref4$targetPosition,\n    label = _ref4.label,\n    labelStyle = _ref4.labelStyle,\n    labelShowBg = _ref4.labelShowBg,\n    labelBgStyle = _ref4.labelBgStyle,\n    labelBgPadding = _ref4.labelBgPadding,\n    labelBgBorderRadius = _ref4.labelBgBorderRadius,\n    style = _ref4.style,\n    markerEnd = _ref4.markerEnd,\n    markerStart = _ref4.markerStart;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n  var path = getSimpleBezierPath(params);\n  var _getSimpleBezierCente = getSimpleBezierCenter(params),\n    _getSimpleBezierCente2 = _slicedToArray(_getSimpleBezierCente, 2),\n    centerX = _getSimpleBezierCente2[0],\n    centerY = _getSimpleBezierCente2[1];\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\nfunction ownKeys$b(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$b(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$b(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$b(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar getMarkerEnd = function getMarkerEnd(markerType, markerEndId) {\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\n    return \"url(#\".concat(markerEndId, \")\");\n  }\n  return typeof markerType !== 'undefined' ? \"url(#react-flow__\".concat(markerType, \")\") : 'none';\n};\nvar LeftOrRight = [Position.Left, Position.Right];\nvar getCenter = function getCenter(_ref) {\n  var sourceX = _ref.sourceX,\n    sourceY = _ref.sourceY,\n    targetX = _ref.targetX,\n    targetY = _ref.targetY,\n    _ref$sourcePosition = _ref.sourcePosition,\n    sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition,\n    _ref$targetPosition = _ref.targetPosition,\n    targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition;\n  var sourceIsLeftOrRight = LeftOrRight.includes(sourcePosition);\n  var targetIsLeftOrRight = LeftOrRight.includes(targetPosition); // we expect flows to be horizontal or vertical (all handles left or right respectively top or bottom)\n  // a mixed edge is when one the source is on the left and the target is on the top for example.\n\n  var mixedEdge = sourceIsLeftOrRight && !targetIsLeftOrRight || targetIsLeftOrRight && !sourceIsLeftOrRight;\n  if (mixedEdge) {\n    var _xOffset = sourceIsLeftOrRight ? Math.abs(targetX - sourceX) : 0;\n    var _centerX = sourceX > targetX ? sourceX - _xOffset : sourceX + _xOffset;\n    var _yOffset = sourceIsLeftOrRight ? 0 : Math.abs(targetY - sourceY);\n    var _centerY = sourceY < targetY ? sourceY + _yOffset : sourceY - _yOffset;\n    return [_centerX, _centerY, _xOffset, _yOffset];\n  }\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var edge = getState().edges.find(function (e) {\n      return e.id === id;\n    });\n    handler(event, _objectSpread$b({}, edge));\n  };\n}\n\n// The name indicates the direction of the path. \"bottomLeftCorner\" goes\n// from bottom to the left and \"leftBottomCorner\" goes from left to the bottom.\n// We have to consider the direction of the paths because of the animated lines.\n\nvar bottomLeftCorner = function bottomLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\nvar leftBottomCorner = function leftBottomCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\nvar bottomRightCorner = function bottomRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\nvar rightBottomCorner = function rightBottomCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\nvar leftTopCorner = function leftTopCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\nvar topLeftCorner = function topLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\nvar topRightCorner = function topRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\nvar rightTopCorner = function rightTopCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\nfunction getSmoothStepPath(_ref) {\n  var sourceX = _ref.sourceX,\n    sourceY = _ref.sourceY,\n    _ref$sourcePosition = _ref.sourcePosition,\n    sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition,\n    targetX = _ref.targetX,\n    targetY = _ref.targetY,\n    _ref$targetPosition = _ref.targetPosition,\n    targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition,\n    _ref$borderRadius = _ref.borderRadius,\n    borderRadius = _ref$borderRadius === void 0 ? 5 : _ref$borderRadius,\n    centerX = _ref.centerX,\n    centerY = _ref.centerY;\n  var _getCenter = getCenter({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY\n    }),\n    _getCenter2 = _slicedToArray(_getCenter, 4),\n    _centerX = _getCenter2[0],\n    _centerY = _getCenter2[1],\n    offsetX = _getCenter2[2],\n    offsetY = _getCenter2[3];\n  var cornerWidth = Math.min(borderRadius, Math.abs(targetX - sourceX));\n  var cornerHeight = Math.min(borderRadius, Math.abs(targetY - sourceY));\n  var cornerSize = Math.min(cornerWidth, cornerHeight, offsetX, offsetY);\n  var leftAndRight = [Position.Left, Position.Right];\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY;\n  var firstCornerPath = null;\n  var secondCornerPath = null;\n  if (sourceX <= targetX) {\n    firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, cY, cornerSize) : topLeftCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY <= targetY ? rightTopCorner(targetX, cY, cornerSize) : rightBottomCorner(targetX, cY, cornerSize);\n  } else {\n    firstCornerPath = sourceY < targetY ? bottomRightCorner(sourceX, cY, cornerSize) : topRightCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY < targetY ? leftTopCorner(targetX, cY, cornerSize) : leftBottomCorner(targetX, cY, cornerSize);\n  }\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(cX, sourceY, cornerSize) : rightBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomLeftCorner(cX, targetY, cornerSize) : topLeftCorner(cX, targetY, cornerSize);\n    } else if (sourcePosition === Position.Right && targetPosition === Position.Left || sourcePosition === Position.Left && targetPosition === Position.Right || sourcePosition === Position.Left && targetPosition === Position.Left) {\n      // and sourceX > targetX\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(cX, sourceY, cornerSize) : leftBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomRightCorner(cX, targetY, cornerSize) : topRightCorner(cX, targetY, cornerSize);\n    }\n  } else if (leftAndRight.includes(sourcePosition) && !leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(targetX, sourceY, cornerSize) : rightBottomCorner(targetX, sourceY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(targetX, sourceY, cornerSize) : leftBottomCorner(targetX, sourceY, cornerSize);\n    }\n    secondCornerPath = '';\n  } else if (!leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, targetY, cornerSize) : topLeftCorner(sourceX, targetY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\n    }\n    secondCornerPath = '';\n  }\n  return \"M \".concat(sourceX, \",\").concat(sourceY).concat(firstCornerPath).concat(secondCornerPath, \"L \").concat(targetX, \",\").concat(targetY);\n}\nvar SmoothStepEdge = /*#__PURE__*/memo(function (_ref2) {\n  var sourceX = _ref2.sourceX,\n    sourceY = _ref2.sourceY,\n    targetX = _ref2.targetX,\n    targetY = _ref2.targetY,\n    label = _ref2.label,\n    labelStyle = _ref2.labelStyle,\n    labelShowBg = _ref2.labelShowBg,\n    labelBgStyle = _ref2.labelBgStyle,\n    labelBgPadding = _ref2.labelBgPadding,\n    labelBgBorderRadius = _ref2.labelBgBorderRadius,\n    style = _ref2.style,\n    _ref2$sourcePosition = _ref2.sourcePosition,\n    sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n    _ref2$targetPosition = _ref2.targetPosition,\n    targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition,\n    markerEnd = _ref2.markerEnd,\n    markerStart = _ref2.markerStart,\n    _ref2$borderRadius = _ref2.borderRadius,\n    borderRadius = _ref2$borderRadius === void 0 ? 5 : _ref2$borderRadius;\n  var _getCenter3 = getCenter({\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition\n    }),\n    _getCenter4 = _slicedToArray(_getCenter3, 2),\n    centerX = _getCenter4[0],\n    centerY = _getCenter4[1];\n  var path = getSmoothStepPath({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    borderRadius: borderRadius\n  });\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\nfunction ownKeys$a(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$a(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$a(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$a(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar StepEdge = /*#__PURE__*/memo(function (props) {\n  return /*#__PURE__*/React.createElement(SmoothStepEdge, _objectSpread$a(_objectSpread$a({}, props), {}, {\n    borderRadius: 0\n  }));\n});\nvar StraightEdge = /*#__PURE__*/memo(function (_ref) {\n  var sourceX = _ref.sourceX,\n    sourceY = _ref.sourceY,\n    targetX = _ref.targetX,\n    targetY = _ref.targetY,\n    label = _ref.label,\n    labelStyle = _ref.labelStyle,\n    labelShowBg = _ref.labelShowBg,\n    labelBgStyle = _ref.labelBgStyle,\n    labelBgPadding = _ref.labelBgPadding,\n    labelBgBorderRadius = _ref.labelBgBorderRadius,\n    style = _ref.style,\n    markerEnd = _ref.markerEnd,\n    markerStart = _ref.markerStart;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var path = \"M \".concat(sourceX, \",\").concat(sourceY, \"L \").concat(targetX, \",\").concat(targetY);\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\nfunction calculateControlOffset(distance, curvature) {\n  if (distance >= 0) {\n    return 0.5 * distance;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance);\n  }\n}\nfunction getControlWithCurvature(_ref) {\n  var pos = _ref.pos,\n    x1 = _ref.x1,\n    y1 = _ref.y1,\n    x2 = _ref.x2,\n    y2 = _ref.y2,\n    c = _ref.c;\n  var ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n      {\n        ctX = x1 - calculateControlOffset(x1 - x2, c);\n        ctY = y1;\n      }\n      break;\n    case Position.Right:\n      {\n        ctX = x1 + calculateControlOffset(x2 - x1, c);\n        ctY = y1;\n      }\n      break;\n    case Position.Top:\n      {\n        ctX = x1;\n        ctY = y1 - calculateControlOffset(y1 - y2, c);\n      }\n      break;\n    case Position.Bottom:\n      {\n        ctX = x1;\n        ctY = y1 + calculateControlOffset(y2 - y1, c);\n      }\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n    sourceY = _ref2.sourceY,\n    _ref2$sourcePosition = _ref2.sourcePosition,\n    sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n    targetX = _ref2.targetX,\n    targetY = _ref2.targetY,\n    _ref2$targetPosition = _ref2.targetPosition,\n    targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition,\n    _ref2$curvature = _ref2.curvature,\n    curvature = _ref2$curvature === void 0 ? 0.25 : _ref2$curvature;\n  var _getControlWithCurvat = getControlWithCurvature({\n      pos: sourcePosition,\n      x1: sourceX,\n      y1: sourceY,\n      x2: targetX,\n      y2: targetY,\n      c: curvature\n    }),\n    _getControlWithCurvat2 = _slicedToArray(_getControlWithCurvat, 2),\n    sourceControlX = _getControlWithCurvat2[0],\n    sourceControlY = _getControlWithCurvat2[1];\n  var _getControlWithCurvat3 = getControlWithCurvature({\n      pos: targetPosition,\n      x1: targetX,\n      y1: targetY,\n      x2: sourceX,\n      y2: sourceY,\n      c: curvature\n    }),\n    _getControlWithCurvat4 = _slicedToArray(_getControlWithCurvat3, 2),\n    targetControlX = _getControlWithCurvat4[0],\n    targetControlY = _getControlWithCurvat4[1];\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n    sourceY = _ref3.sourceY,\n    _ref3$sourcePosition = _ref3.sourcePosition,\n    sourcePosition = _ref3$sourcePosition === void 0 ? Position.Bottom : _ref3$sourcePosition,\n    targetX = _ref3.targetX,\n    targetY = _ref3.targetY,\n    _ref3$targetPosition = _ref3.targetPosition,\n    targetPosition = _ref3$targetPosition === void 0 ? Position.Top : _ref3$targetPosition,\n    _ref3$curvature = _ref3.curvature,\n    curvature = _ref3$curvature === void 0 ? 0.25 : _ref3$curvature;\n  var _getControlWithCurvat5 = getControlWithCurvature({\n      pos: sourcePosition,\n      x1: sourceX,\n      y1: sourceY,\n      x2: targetX,\n      y2: targetY,\n      c: curvature\n    }),\n    _getControlWithCurvat6 = _slicedToArray(_getControlWithCurvat5, 2),\n    sourceControlX = _getControlWithCurvat6[0],\n    sourceControlY = _getControlWithCurvat6[1];\n  var _getControlWithCurvat7 = getControlWithCurvature({\n      pos: targetPosition,\n      x1: targetX,\n      y1: targetY,\n      x2: sourceX,\n      y2: sourceY,\n      c: curvature\n    }),\n    _getControlWithCurvat8 = _slicedToArray(_getControlWithCurvat7, 2),\n    targetControlX = _getControlWithCurvat8[0],\n    targetControlY = _getControlWithCurvat8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar BezierEdge = /*#__PURE__*/memo(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n    sourceY = _ref4.sourceY,\n    targetX = _ref4.targetX,\n    targetY = _ref4.targetY,\n    _ref4$sourcePosition = _ref4.sourcePosition,\n    sourcePosition = _ref4$sourcePosition === void 0 ? Position.Bottom : _ref4$sourcePosition,\n    _ref4$targetPosition = _ref4.targetPosition,\n    targetPosition = _ref4$targetPosition === void 0 ? Position.Top : _ref4$targetPosition,\n    label = _ref4.label,\n    labelStyle = _ref4.labelStyle,\n    labelShowBg = _ref4.labelShowBg,\n    labelBgStyle = _ref4.labelBgStyle,\n    labelBgPadding = _ref4.labelBgPadding,\n    labelBgBorderRadius = _ref4.labelBgBorderRadius,\n    style = _ref4.style,\n    markerEnd = _ref4.markerEnd,\n    markerStart = _ref4.markerStart,\n    curvature = _ref4.curvature;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    curvature: curvature\n  };\n  var path = getBezierPath(params);\n  var _getBezierCenter = getBezierCenter(params),\n    _getBezierCenter2 = _slicedToArray(_getBezierCenter, 2),\n    centerX = _getBezierCenter2[0],\n    centerY = _getBezierCenter2[1];\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\nvar NodeIdContext = /*#__PURE__*/createContext(null);\nvar Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nfunction checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc) {\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target')) || false;\n  var elementBelowIsSource = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source')) || false;\n  var result = {\n    elementBelow: elementBelow,\n    isValid: false,\n    connection: {\n      source: null,\n      target: null,\n      sourceHandle: null,\n      targetHandle: null\n    },\n    isHoveringHandle: false\n  };\n  if (elementBelow && (elementBelowIsTarget || elementBelowIsSource)) {\n    result.isHoveringHandle = true;\n    var elementBelowNodeId = elementBelow.getAttribute('data-nodeid');\n    var elementBelowHandleId = elementBelow.getAttribute('data-handleid');\n    var connection = isTarget ? {\n      source: elementBelowNodeId,\n      sourceHandle: elementBelowHandleId,\n      target: nodeId,\n      targetHandle: handleId\n    } : {\n      source: nodeId,\n      sourceHandle: handleId,\n      target: elementBelowNodeId,\n      targetHandle: elementBelowHandleId\n    };\n    result.connection = connection; // in strict mode we don't allow target to target or source to source connections\n\n    var isValid = connectionMode === ConnectionMode.Strict ? isTarget && elementBelowIsSource || !isTarget && elementBelowIsTarget : true;\n    if (isValid) {\n      result.isValid = isValidConnection(connection);\n    }\n  }\n  return result;\n}\nfunction resetRecentHandle(hoveredHandle) {\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-valid');\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-connecting');\n}\nfunction handleMouseDown(_ref) {\n  var event = _ref.event,\n    handleId = _ref.handleId,\n    nodeId = _ref.nodeId,\n    onConnect = _ref.onConnect,\n    isTarget = _ref.isTarget,\n    getState = _ref.getState,\n    setState = _ref.setState,\n    isValidConnection = _ref.isValidConnection,\n    elementEdgeUpdaterType = _ref.elementEdgeUpdaterType,\n    onEdgeUpdateEnd = _ref.onEdgeUpdateEnd;\n  var reactFlowNode = event.target.closest('.react-flow'); // when react-flow is used inside a shadow root we can't use document\n\n  var doc = getHostForElement(event.target);\n  if (!doc) {\n    return;\n  }\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target');\n  var elementBelowIsSource = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source');\n  if (!reactFlowNode || !elementBelowIsTarget && !elementBelowIsSource && !elementEdgeUpdaterType) {\n    return;\n  }\n  var _getState = getState(),\n    onConnectStart = _getState.onConnectStart,\n    connectionMode = _getState.connectionMode;\n  var handleType = elementEdgeUpdaterType ? elementEdgeUpdaterType : elementBelowIsTarget ? 'target' : 'source';\n  var containerBounds = reactFlowNode.getBoundingClientRect();\n  var recentHoveredHandle;\n  setState({\n    connectionPosition: {\n      x: event.clientX - containerBounds.left,\n      y: event.clientY - containerBounds.top\n    },\n    connectionNodeId: nodeId,\n    connectionHandleId: handleId,\n    connectionHandleType: handleType\n  });\n  onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\n    nodeId: nodeId,\n    handleId: handleId,\n    handleType: handleType\n  });\n  function onMouseMove(event) {\n    setState({\n      connectionPosition: {\n        x: event.clientX - containerBounds.left,\n        y: event.clientY - containerBounds.top\n      }\n    });\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n      connection = _checkElementBelowIsV.connection,\n      elementBelow = _checkElementBelowIsV.elementBelow,\n      isValid = _checkElementBelowIsV.isValid,\n      isHoveringHandle = _checkElementBelowIsV.isHoveringHandle;\n    if (!isHoveringHandle) {\n      return resetRecentHandle(recentHoveredHandle);\n    }\n    if (connection.source !== connection.target && elementBelow) {\n      resetRecentHandle(recentHoveredHandle);\n      recentHoveredHandle = elementBelow;\n      elementBelow.classList.add('react-flow__handle-connecting');\n      elementBelow.classList.toggle('react-flow__handle-valid', isValid);\n    }\n  }\n  function onMouseUp(event) {\n    var _getState2 = getState(),\n      onConnectStop = _getState2.onConnectStop,\n      onConnectEnd = _getState2.onConnectEnd;\n    var _checkElementBelowIsV2 = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n      connection = _checkElementBelowIsV2.connection,\n      isValid = _checkElementBelowIsV2.isValid;\n    onConnectStop === null || onConnectStop === void 0 ? void 0 : onConnectStop(event);\n    if (isValid) {\n      onConnect === null || onConnect === void 0 ? void 0 : onConnect(connection);\n    }\n    onConnectEnd === null || onConnectEnd === void 0 ? void 0 : onConnectEnd(event);\n    if (elementEdgeUpdaterType && onEdgeUpdateEnd) {\n      onEdgeUpdateEnd(event);\n    }\n    resetRecentHandle(recentHoveredHandle);\n    setState({\n      connectionNodeId: null,\n      connectionHandleId: null,\n      connectionHandleType: null\n    });\n    doc.removeEventListener('mousemove', onMouseMove);\n    doc.removeEventListener('mouseup', onMouseUp);\n  }\n  doc.addEventListener('mousemove', onMouseMove);\n  doc.addEventListener('mouseup', onMouseUp);\n}\nvar _excluded$1 = [\"type\", \"position\", \"isValidConnection\", \"isConnectable\", \"id\", \"onConnect\", \"children\", \"className\", \"onMouseDown\"];\nfunction ownKeys$9(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$9(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$9(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$9(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar alwaysValid = function alwaysValid() {\n  return true;\n};\nvar selector$a = function selector(s) {\n  return {\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick\n  };\n};\nvar Handle = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'source' : _ref$type,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? Position.Top : _ref$position,\n    _ref$isValidConnectio = _ref.isValidConnection,\n    isValidConnection = _ref$isValidConnectio === void 0 ? alwaysValid : _ref$isValidConnectio,\n    _ref$isConnectable = _ref.isConnectable,\n    isConnectable = _ref$isConnectable === void 0 ? true : _ref$isConnectable,\n    id = _ref.id,\n    onConnect = _ref.onConnect,\n    children = _ref.children,\n    className = _ref.className,\n    onMouseDown = _ref.onMouseDown,\n    rest = _objectWithoutProperties(_ref, _excluded$1);\n  var store = useStoreApi();\n  var nodeId = useContext(NodeIdContext);\n  var _useStore = useStore(selector$a, shallow),\n    connectionStartHandle = _useStore.connectionStartHandle,\n    connectOnClick = _useStore.connectOnClick;\n  var handleId = id || null;\n  var isTarget = type === 'target';\n  var onConnectExtended = function onConnectExtended(params) {\n    var _store$getState = store.getState(),\n      defaultEdgeOptions = _store$getState.defaultEdgeOptions,\n      onConnectAction = _store$getState.onConnect,\n      hasDefaultEdges = _store$getState.hasDefaultEdges;\n    var edgeParams = _objectSpread$9(_objectSpread$9({}, defaultEdgeOptions), params);\n    if (hasDefaultEdges) {\n      var _store$getState2 = store.getState(),\n        edges = _store$getState2.edges;\n      store.setState({\n        edges: addEdge(edgeParams, edges)\n      });\n    }\n    onConnectAction === null || onConnectAction === void 0 ? void 0 : onConnectAction(edgeParams);\n    onConnect === null || onConnect === void 0 ? void 0 : onConnect(edgeParams);\n  };\n  var onMouseDownHandler = function onMouseDownHandler(event) {\n    if (event.button === 0) {\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectExtended,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection\n      });\n    }\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n  };\n  var onClick = function onClick(event) {\n    var _store$getState3 = store.getState(),\n      onClickConnectStart = _store$getState3.onClickConnectStart,\n      onClickConnectStop = _store$getState3.onClickConnectStop,\n      onClickConnectEnd = _store$getState3.onClickConnectEnd,\n      connectionMode = _store$getState3.connectionMode;\n    if (!connectionStartHandle) {\n      onClickConnectStart === null || onClickConnectStart === void 0 ? void 0 : onClickConnectStart(event, {\n        nodeId: nodeId,\n        handleId: handleId,\n        handleType: type\n      });\n      store.setState({\n        connectionStartHandle: {\n          nodeId: nodeId,\n          type: type,\n          handleId: handleId\n        }\n      });\n      return;\n    }\n    var doc = getHostForElement(event.target);\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, connectionStartHandle.type === 'target', connectionStartHandle.nodeId, connectionStartHandle.handleId || null, isValidConnection, doc),\n      connection = _checkElementBelowIsV.connection,\n      isValid = _checkElementBelowIsV.isValid;\n    onClickConnectStop === null || onClickConnectStop === void 0 ? void 0 : onClickConnectStop(event);\n    if (isValid) {\n      onConnectExtended(connection);\n    }\n    onClickConnectEnd === null || onClickConnectEnd === void 0 ? void 0 : onClickConnectEnd(event);\n    store.setState({\n      connectionStartHandle: null\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread$9({\n    \"data-handleid\": handleId,\n    \"data-nodeid\": nodeId,\n    \"data-handlepos\": position,\n    className: cc(['react-flow__handle', \"react-flow__handle-\".concat(position), 'nodrag', className, {\n      source: !isTarget,\n      target: isTarget,\n      connectable: isConnectable,\n      connecting: (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.nodeId) === nodeId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.handleId) === handleId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.type) === type\n    }]),\n    onMouseDown: onMouseDownHandler,\n    onClick: connectOnClick ? onClick : undefined,\n    ref: ref\n  }, rest), children);\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = /*#__PURE__*/memo(Handle);\nvar DefaultNode = function DefaultNode(_ref) {\n  var data = _ref.data,\n    isConnectable = _ref.isConnectable,\n    _ref$targetPosition = _ref.targetPosition,\n    targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition,\n    _ref$sourcePosition = _ref.sourcePosition,\n    sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = /*#__PURE__*/memo(DefaultNode);\nvar InputNode = function InputNode(_ref) {\n  var data = _ref.data,\n    isConnectable = _ref.isConnectable,\n    _ref$sourcePosition = _ref.sourcePosition,\n    sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = /*#__PURE__*/memo(InputNode);\nvar OutputNode = function OutputNode(_ref) {\n  var data = _ref.data,\n    isConnectable = _ref.isConnectable,\n    _ref$targetPosition = _ref.targetPosition,\n    targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label);\n};\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = /*#__PURE__*/memo(OutputNode);\nvar selector$9 = function selector(s) {\n  return {\n    selectedNodes: Array.from(s.nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    }),\n    selectedEdges: s.edges.filter(function (e) {\n      return e.selected;\n    })\n  };\n};\nvar areEqual = function areEqual(objA, objB) {\n  var selectedNodeIdsA = objA.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedNodeIdsB = objB.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedEdgeIdsA = objA.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  var selectedEdgeIdsB = objB.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  return shallow(selectedNodeIdsA, selectedNodeIdsB) && shallow(selectedEdgeIdsA, selectedEdgeIdsB);\n}; // This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\n\nfunction SelectionListener(_ref) {\n  var onSelectionChange = _ref.onSelectionChange;\n  var _useStore = useStore(selector$9, areEqual),\n    selectedNodes = _useStore.selectedNodes,\n    selectedEdges = _useStore.selectedEdges;\n  useEffect(function () {\n    onSelectionChange({\n      nodes: selectedNodes,\n      edges: selectedEdges\n    });\n  }, [selectedNodes, selectedEdges]);\n  return null;\n}\nvar SelectionListener$1 = /*#__PURE__*/memo(SelectionListener);\nvar selector$8 = function selector(s) {\n  return {\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset\n  };\n};\nfunction useStoreUpdater(value, setStoreState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      setStoreState(value);\n    }\n  }, [value]);\n}\nfunction useDirectStoreUpdater(key, value, setState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      // @ts-ignore\n      setState(_defineProperty({}, key, value));\n    }\n  }, [value]);\n}\nvar StoreUpdater = function StoreUpdater(_ref) {\n  var nodes = _ref.nodes,\n    edges = _ref.edges,\n    defaultNodes = _ref.defaultNodes,\n    defaultEdges = _ref.defaultEdges,\n    onConnect = _ref.onConnect,\n    onConnectStart = _ref.onConnectStart,\n    onConnectStop = _ref.onConnectStop,\n    onConnectEnd = _ref.onConnectEnd,\n    onClickConnectStart = _ref.onClickConnectStart,\n    onClickConnectStop = _ref.onClickConnectStop,\n    onClickConnectEnd = _ref.onClickConnectEnd,\n    nodesDraggable = _ref.nodesDraggable,\n    nodesConnectable = _ref.nodesConnectable,\n    minZoom = _ref.minZoom,\n    maxZoom = _ref.maxZoom,\n    nodeExtent = _ref.nodeExtent,\n    onNodesChange = _ref.onNodesChange,\n    onEdgesChange = _ref.onEdgesChange,\n    elementsSelectable = _ref.elementsSelectable,\n    connectionMode = _ref.connectionMode,\n    snapGrid = _ref.snapGrid,\n    snapToGrid = _ref.snapToGrid,\n    translateExtent = _ref.translateExtent,\n    connectOnClick = _ref.connectOnClick,\n    defaultEdgeOptions = _ref.defaultEdgeOptions,\n    fitView = _ref.fitView,\n    fitViewOptions = _ref.fitViewOptions,\n    onNodesDelete = _ref.onNodesDelete,\n    onEdgesDelete = _ref.onEdgesDelete,\n    onNodeDrag = _ref.onNodeDrag,\n    onNodeDragStart = _ref.onNodeDragStart,\n    onNodeDragStop = _ref.onNodeDragStop,\n    onSelectionDrag = _ref.onSelectionDrag,\n    onSelectionDragStart = _ref.onSelectionDragStart,\n    onSelectionDragStop = _ref.onSelectionDragStop;\n  var _useStore = useStore(selector$8, shallow),\n    setNodes = _useStore.setNodes,\n    setEdges = _useStore.setEdges,\n    setDefaultNodesAndEdges = _useStore.setDefaultNodesAndEdges,\n    setMinZoom = _useStore.setMinZoom,\n    setMaxZoom = _useStore.setMaxZoom,\n    setTranslateExtent = _useStore.setTranslateExtent,\n    setNodeExtent = _useStore.setNodeExtent,\n    reset = _useStore.reset;\n  var store = useStoreApi();\n  useEffect(function () {\n    setDefaultNodesAndEdges(defaultNodes, defaultEdges);\n    return function () {\n      reset();\n    };\n  }, []);\n  useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n  useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n  useDirectStoreUpdater('onConnect', onConnect, store.setState);\n  useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n  useDirectStoreUpdater('onConnectStop', onConnectStop, store.setState);\n  useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n  useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n  useDirectStoreUpdater('onClickConnectStop', onClickConnectStop, store.setState);\n  useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n  useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n  useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n  useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n  useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n  useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n  useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n  useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n  useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n  useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n  useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n  useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n  useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n  useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n  useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n  useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n  useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n  useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n  useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n  useStoreUpdater(nodes, setNodes);\n  useStoreUpdater(edges, setEdges);\n  useStoreUpdater(defaultNodes, setNodes);\n  useStoreUpdater(defaultEdges, setEdges);\n  useStoreUpdater(minZoom, setMinZoom);\n  useStoreUpdater(maxZoom, setMaxZoom);\n  useStoreUpdater(translateExtent, setTranslateExtent);\n  useStoreUpdater(nodeExtent, setNodeExtent);\n  return null;\n};\nvar css_248z$1 = \".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}\";\nvar css = css_248z$1;\nvar css_248z = \".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}\";\nvar theme = css_248z;\nvar shiftX = function shiftX(x, shift, position) {\n  if (position === Position.Left) return x - shift;\n  if (position === Position.Right) return x + shift;\n  return x;\n};\nvar shiftY = function shiftY(y, shift, position) {\n  if (position === Position.Top) return y - shift;\n  if (position === Position.Bottom) return y + shift;\n  return y;\n};\nvar EdgeAnchor = function EdgeAnchor(_ref) {\n  var className = _ref.className,\n    position = _ref.position,\n    centerX = _ref.centerX,\n    centerY = _ref.centerY,\n    _ref$radius = _ref.radius,\n    radius = _ref$radius === void 0 ? 10 : _ref$radius;\n  return /*#__PURE__*/React.createElement(\"circle\", {\n    className: cc(['react-flow__edgeupdater', className]),\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nvar wrapEdge = function (EdgeComponent) {\n  var EdgeWrapper = function EdgeWrapper(_ref) {\n    var id = _ref.id,\n      className = _ref.className,\n      type = _ref.type,\n      data = _ref.data,\n      onClick = _ref.onClick,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      selected = _ref.selected,\n      animated = _ref.animated,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      source = _ref.source,\n      target = _ref.target,\n      sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      sourcePosition = _ref.sourcePosition,\n      targetPosition = _ref.targetPosition,\n      elementsSelectable = _ref.elementsSelectable,\n      hidden = _ref.hidden,\n      sourceHandleId = _ref.sourceHandleId,\n      targetHandleId = _ref.targetHandleId,\n      onContextMenu = _ref.onContextMenu,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart,\n      rfId = _ref.rfId;\n    var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      updating = _useState2[0],\n      setUpdating = _useState2[1];\n    var store = useStoreApi();\n    var onEdgeClick = function onEdgeClick(event) {\n      var _store$getState = store.getState(),\n        edges = _store$getState.edges,\n        addSelectedEdges = _store$getState.addSelectedEdges;\n      var edge = edges.find(function (e) {\n        return e.id === id;\n      });\n      if (elementsSelectable) {\n        store.setState({\n          nodesSelectionActive: false\n        });\n        addSelectedEdges([id]);\n      }\n      onClick === null || onClick === void 0 ? void 0 : onClick(event, edge);\n    };\n    var onEdgeDoubleClickHandler = getMouseHandler(id, store.getState, onEdgeDoubleClick);\n    var onEdgeContextMenu = getMouseHandler(id, store.getState, onContextMenu);\n    var onEdgeMouseEnter = getMouseHandler(id, store.getState, onMouseEnter);\n    var onEdgeMouseMove = getMouseHandler(id, store.getState, onMouseMove);\n    var onEdgeMouseLeave = getMouseHandler(id, store.getState, onMouseLeave);\n    var handleEdgeUpdater = function handleEdgeUpdater(event, isSourceHandle) {\n      var nodeId = isSourceHandle ? target : source;\n      var handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n      var handleType = isSourceHandle ? 'target' : 'source';\n      var isValidConnection = function isValidConnection() {\n        return true;\n      };\n      var isTarget = isSourceHandle;\n      var edge = store.getState().edges.find(function (e) {\n        return e.id === id;\n      });\n      onEdgeUpdateStart === null || onEdgeUpdateStart === void 0 ? void 0 : onEdgeUpdateStart(event, edge, handleType);\n      var _onEdgeUpdateEnd = onEdgeUpdateEnd ? function (evt) {\n        return onEdgeUpdateEnd(evt, edge, handleType);\n      } : undefined;\n      var onConnectEdge = function onConnectEdge(connection) {\n        return onEdgeUpdate === null || onEdgeUpdate === void 0 ? void 0 : onEdgeUpdate(edge, connection);\n      };\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectEdge,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection,\n        elementEdgeUpdaterType: handleType,\n        onEdgeUpdateEnd: _onEdgeUpdateEnd\n      });\n    };\n    var onEdgeUpdaterSourceMouseDown = function onEdgeUpdaterSourceMouseDown(event) {\n      return handleEdgeUpdater(event, true);\n    };\n    var onEdgeUpdaterTargetMouseDown = function onEdgeUpdaterTargetMouseDown(event) {\n      return handleEdgeUpdater(event, false);\n    };\n    var onEdgeUpdaterMouseEnter = function onEdgeUpdaterMouseEnter() {\n      return setUpdating(true);\n    };\n    var onEdgeUpdaterMouseOut = function onEdgeUpdaterMouseOut() {\n      return setUpdating(false);\n    };\n    var markerStartUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerStart, rfId), \")\");\n    }, [markerStart, rfId]);\n    var markerEndUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerEnd, rfId), \")\");\n    }, [markerEnd, rfId]);\n    if (hidden) {\n      return null;\n    }\n    var inactive = !elementsSelectable && !onClick;\n    var handleEdgeUpdate = typeof onEdgeUpdate !== 'undefined';\n    var edgeClasses = cc(['react-flow__edge', \"react-flow__edge-\".concat(type), className, {\n      selected: selected,\n      animated: animated,\n      inactive: inactive,\n      updating: updating\n    }]);\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: edgeClasses,\n      onClick: onEdgeClick,\n      onDoubleClick: onEdgeDoubleClickHandler,\n      onContextMenu: onEdgeContextMenu,\n      onMouseEnter: onEdgeMouseEnter,\n      onMouseMove: onEdgeMouseMove,\n      onMouseLeave: onEdgeMouseLeave\n    }, /*#__PURE__*/React.createElement(EdgeComponent, {\n      id: id,\n      source: source,\n      target: target,\n      selected: selected,\n      animated: animated,\n      label: label,\n      labelStyle: labelStyle,\n      labelShowBg: labelShowBg,\n      labelBgStyle: labelBgStyle,\n      labelBgPadding: labelBgPadding,\n      labelBgBorderRadius: labelBgBorderRadius,\n      data: data,\n      style: style,\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceHandleId: sourceHandleId,\n      targetHandleId: targetHandleId,\n      markerStart: markerStartUrl,\n      markerEnd: markerEndUrl,\n      \"data-testid\": \"rf__edge-\".concat(id)\n    }), handleEdgeUpdate && /*#__PURE__*/React.createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterSourceMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/React.createElement(EdgeAnchor, {\n      position: sourcePosition,\n      centerX: sourceX,\n      centerY: sourceY,\n      radius: edgeUpdaterRadius\n    })), handleEdgeUpdate && /*#__PURE__*/React.createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterTargetMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/React.createElement(EdgeAnchor, {\n      position: targetPosition,\n      centerX: targetX,\n      centerY: targetY,\n      radius: edgeUpdaterRadius\n    })));\n  };\n  EdgeWrapper.displayName = 'EdgeWrapper';\n  return /*#__PURE__*/memo(EdgeWrapper);\n};\nfunction ownKeys$8(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$8(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$8(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$8(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction createEdgeTypes(edgeTypes) {\n  var standardTypes = {\n    \"default\": wrapEdge(edgeTypes[\"default\"] || BezierEdge),\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\n    step: wrapEdge(edgeTypes.step || StepEdge),\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),\n    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\n    return !['default', 'bezier'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$8(_objectSpread$8({}, standardTypes), specialTypes);\n}\nfunction getHandlePosition(position, nodeRect) {\n  var handle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var x = ((handle === null || handle === void 0 ? void 0 : handle.x) || 0) + nodeRect.x;\n  var y = ((handle === null || handle === void 0 ? void 0 : handle.y) || 0) + nodeRect.y;\n  var width = (handle === null || handle === void 0 ? void 0 : handle.width) || nodeRect.width;\n  var height = (handle === null || handle === void 0 ? void 0 : handle.height) || nodeRect.height;\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y: y\n      };\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n    case Position.Left:\n      return {\n        x: x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  } // there is no handleId when there are no multiple handles/ handles with ids\n  // so we just pick the first one\n\n  var handle = null;\n  if (bounds.length === 1 || !handleId) {\n    handle = bounds[0];\n  } else if (handleId) {\n    handle = bounds.find(function (d) {\n      return d.id === handleId;\n    });\n  }\n  return typeof handle === 'undefined' ? null : handle;\n}\nvar getEdgePositions = function getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) {\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n  var targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n  return {\n    sourceX: sourceHandlePos.x,\n    sourceY: sourceHandlePos.y,\n    targetX: targetHandlePos.x,\n    targetY: targetHandlePos.y\n  };\n};\nfunction isEdgeVisible(_ref) {\n  var sourcePos = _ref.sourcePos,\n    targetPos = _ref.targetPos,\n    sourceWidth = _ref.sourceWidth,\n    sourceHeight = _ref.sourceHeight,\n    targetWidth = _ref.targetWidth,\n    targetHeight = _ref.targetHeight,\n    width = _ref.width,\n    height = _ref.height,\n    transform = _ref.transform;\n  var edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  var viewBox = rectToBox({\n    x: (0 - transform[0]) / transform[2],\n    y: (0 - transform[1]) / transform[2],\n    width: width / transform[2],\n    height: height / transform[2]\n  });\n  var xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  var yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  var overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getNodeData(nodeInternals, nodeId) {\n  var _node$internalsSymbol, _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\n  var node = nodeInternals.get(nodeId);\n  var handleBounds = (node === null || node === void 0 ? void 0 : (_node$internalsSymbol = node[internalsSymbol]) === null || _node$internalsSymbol === void 0 ? void 0 : _node$internalsSymbol.handleBounds) || null;\n  var isInvalid = !node || !handleBounds || !node.width || !node.height || typeof ((_node$positionAbsolut = node.positionAbsolute) === null || _node$positionAbsolut === void 0 ? void 0 : _node$positionAbsolut.x) === 'undefined' || typeof ((_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.y) === 'undefined';\n  return [{\n    x: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut3 = node.positionAbsolute) === null || _node$positionAbsolut3 === void 0 ? void 0 : _node$positionAbsolut3.x) || 0,\n    y: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) || 0,\n    width: (node === null || node === void 0 ? void 0 : node.width) || 0,\n    height: (node === null || node === void 0 ? void 0 : node.height) || 0\n  }, handleBounds, !isInvalid];\n}\nvar doc = typeof document !== 'undefined' ? document : null; // the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\n\nvar useKeyPress = function () {\n  var keyCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    target: doc\n  };\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    keyPressed = _useState2[0],\n    setKeyPressed = _useState2[1]; // we need to remember the pressed keys in order to support combinations\n\n  var pressedKeys = useRef(new Set([])); // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n  // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n  // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n  // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n  // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n  // we can't find it in the list of keysToWatch.\n\n  var _useMemo = useMemo(function () {\n      if (keyCode !== null) {\n        var keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n        var keys = keyCodeArr.filter(function (kc) {\n          return typeof kc === 'string';\n        }).map(function (kc) {\n          return kc.split('+');\n        });\n        var keysFlat = keys.reduce(function (res, item) {\n          return res.concat.apply(res, _toConsumableArray(item));\n        }, []);\n        return [keys, keysFlat];\n      }\n      return [[], []];\n    }, [keyCode]),\n    _useMemo2 = _slicedToArray(_useMemo, 2),\n    keyCodes = _useMemo2[0],\n    keysToWatch = _useMemo2[1];\n  useEffect(function () {\n    if (keyCode !== null) {\n      var _options$target, _options$target2;\n      var downHandler = function downHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        pressedKeys.current.add(event[keyOrCode]);\n        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n          event.preventDefault();\n          setKeyPressed(true);\n        }\n      };\n      var upHandler = function upHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n          setKeyPressed(false);\n          pressedKeys.current.clear();\n        } else {\n          pressedKeys.current[\"delete\"](event[keyOrCode]);\n        }\n      };\n      var resetHandler = function resetHandler() {\n        pressedKeys.current.clear();\n        setKeyPressed(false);\n      };\n      options === null || options === void 0 ? void 0 : (_options$target = options.target) === null || _options$target === void 0 ? void 0 : _options$target.addEventListener('keydown', downHandler);\n      options === null || options === void 0 ? void 0 : (_options$target2 = options.target) === null || _options$target2 === void 0 ? void 0 : _options$target2.addEventListener('keyup', upHandler);\n      window.addEventListener('blur', resetHandler);\n      return function () {\n        var _options$target3, _options$target4;\n        options === null || options === void 0 ? void 0 : (_options$target3 = options.target) === null || _options$target3 === void 0 ? void 0 : _options$target3.removeEventListener('keydown', downHandler);\n        options === null || options === void 0 ? void 0 : (_options$target4 = options.target) === null || _options$target4 === void 0 ? void 0 : _options$target4.removeEventListener('keyup', upHandler);\n        window.removeEventListener('blur', resetHandler);\n      };\n    }\n  }, [keyCode, setKeyPressed]);\n  return keyPressed;\n}; // utils\n\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n  return keyCodes // we only want to compare same sizes of keyCode definitions\n  // and pressed keys. When the user specified 'Meta' as a key somewhere\n  // this would also be truthy without this filter when user presses 'Meta' + 'r'\n  .filter(function (keys) {\n    return isUp || keys.length === pressedKeys.size;\n  }) // since we want to support multiple possibilities only one of the\n  // combinations need to be part of the pressed keys\n  .some(function (keys) {\n    return keys.every(function (k) {\n      return pressedKeys.has(k);\n    });\n  });\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n  return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\nfunction isInputDOMNode(event) {\n  var _event$composedPath;\n\n  // using composed path for handling shadow dom\n  var target = ((_event$composedPath = event.composedPath) === null || _event$composedPath === void 0 ? void 0 : _event$composedPath.call(event)[0]) || event.target;\n  return ['INPUT', 'SELECT', 'TEXTAREA'].includes(target === null || target === void 0 ? void 0 : target.nodeName) || (target === null || target === void 0 ? void 0 : target.hasAttribute('contenteditable'));\n}\nvar selector$7 = function selector(s) {\n  return {\n    onNodesChange: s.onNodesChange,\n    onEdgesChange: s.onEdgesChange\n  };\n};\nvar useGlobalKeyHandler = function (_ref) {\n  var deleteKeyCode = _ref.deleteKeyCode,\n    multiSelectionKeyCode = _ref.multiSelectionKeyCode;\n  var store = useStoreApi();\n  var _useStore = useStore(selector$7, shallow),\n    onNodesChange = _useStore.onNodesChange,\n    onEdgesChange = _useStore.onEdgesChange;\n  var deleteKeyPressed = useKeyPress(deleteKeyCode);\n  var multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n  useEffect(function () {\n    var _store$getState = store.getState(),\n      nodeInternals = _store$getState.nodeInternals,\n      edges = _store$getState.edges,\n      hasDefaultNodes = _store$getState.hasDefaultNodes,\n      hasDefaultEdges = _store$getState.hasDefaultEdges,\n      onNodesDelete = _store$getState.onNodesDelete,\n      onEdgesDelete = _store$getState.onEdgesDelete;\n    var nodes = Array.from(nodeInternals.values());\n    var nodesToRemove = nodes.reduce(function (res, node) {\n      if (!node.selected && node.parentNode && res.find(function (n) {\n        return n.id === node.parentNode;\n      })) {\n        res.push(node);\n      } else if (node.selected) {\n        res.push(node);\n      }\n      return res;\n    }, []);\n    var selectedEdges = edges.filter(function (e) {\n      return e.selected;\n    });\n    if (deleteKeyPressed && (nodesToRemove || selectedEdges)) {\n      var connectedEdges = getConnectedEdges(nodesToRemove, edges);\n      var edgesToRemove = [].concat(_toConsumableArray(selectedEdges), _toConsumableArray(connectedEdges));\n      var edgeIdsToRemove = edgesToRemove.reduce(function (res, edge) {\n        if (!res.includes(edge.id)) {\n          res.push(edge.id);\n        }\n        return res;\n      }, []);\n      if (hasDefaultEdges || hasDefaultNodes) {\n        if (hasDefaultEdges) {\n          store.setState({\n            edges: edges.filter(function (e) {\n              return !edgeIdsToRemove.includes(e.id);\n            })\n          });\n        }\n        if (hasDefaultNodes) {\n          nodesToRemove.forEach(function (node) {\n            nodeInternals[\"delete\"](node.id);\n          });\n          store.setState({\n            nodeInternals: new Map(nodeInternals)\n          });\n        }\n      }\n      if (edgeIdsToRemove.length > 0) {\n        onEdgesDelete === null || onEdgesDelete === void 0 ? void 0 : onEdgesDelete(edgesToRemove);\n        if (onEdgesChange) {\n          var edgeChanges = edgeIdsToRemove.map(function (id) {\n            return {\n              id: id,\n              type: 'remove'\n            };\n          });\n          onEdgesChange(edgeChanges);\n        }\n      }\n      if (nodesToRemove.length > 0) {\n        onNodesDelete === null || onNodesDelete === void 0 ? void 0 : onNodesDelete(nodesToRemove);\n        if (onNodesChange) {\n          var nodeChanges = nodesToRemove.map(function (n) {\n            return {\n              id: n.id,\n              type: 'remove'\n            };\n          });\n          onNodesChange(nodeChanges);\n        }\n      }\n      store.setState({\n        nodesSelectionActive: false\n      });\n    }\n  }, [deleteKeyPressed, onNodesChange, onEdgesChange]);\n  useEffect(function () {\n    store.setState({\n      multiSelectionActive: multiSelectionKeyPressed\n    });\n  }, [multiSelectionKeyPressed]);\n};\nfunction useResizeHandler(rendererNode) {\n  var store = useStoreApi();\n  useEffect(function () {\n    var resizeObserver;\n    var updateDimensions = function updateDimensions() {\n      if (!rendererNode.current) {\n        return;\n      }\n      var size = getDimensions(rendererNode.current); // @ts-ignore\n\n      if (process.env.NODE_ENV === 'development') {\n        if (size.height === 0 || size.width === 0) {\n          console.warn('[React Flow]: The React Flow parent container needs a width and a height to render the graph. Help: https://reactflow.dev/error#400');\n        }\n      }\n      store.setState({\n        width: size.width || 500,\n        height: size.height || 500\n      });\n    };\n    updateDimensions();\n    window.onresize = updateDimensions;\n    if (rendererNode.current) {\n      resizeObserver = new ResizeObserver(function () {\n        return updateDimensions();\n      });\n      resizeObserver.observe(rendererNode.current);\n    }\n    return function () {\n      window.onresize = null;\n      if (resizeObserver && rendererNode.current) {\n        resizeObserver.unobserve(rendererNode.current);\n      }\n    };\n  }, []);\n}\nvar viewChanged = function viewChanged(prevViewport, eventViewport) {\n  return prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\n};\nvar eventToFlowTransform = function eventToFlowTransform(eventViewport) {\n  return {\n    x: eventViewport.x,\n    y: eventViewport.y,\n    zoom: eventViewport.k\n  };\n};\nvar isWrappedWithClass = function isWrappedWithClass(event, className) {\n  return event.target.closest(\".\".concat(className));\n};\nvar selector$6 = function selector(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler\n  };\n};\nvar ZoomPane = function ZoomPane(_ref) {\n  var onMove = _ref.onMove,\n    onMoveStart = _ref.onMoveStart,\n    onMoveEnd = _ref.onMoveEnd,\n    _ref$zoomOnScroll = _ref.zoomOnScroll,\n    zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n    _ref$zoomOnPinch = _ref.zoomOnPinch,\n    zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n    _ref$panOnScroll = _ref.panOnScroll,\n    panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n    _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n    panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n    _ref$panOnScrollMode = _ref.panOnScrollMode,\n    panOnScrollMode = _ref$panOnScrollMode === void 0 ? PanOnScrollMode.Free : _ref$panOnScrollMode,\n    _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n    zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n    selectionKeyPressed = _ref.selectionKeyPressed,\n    elementsSelectable = _ref.elementsSelectable,\n    _ref$panOnDrag = _ref.panOnDrag,\n    panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n    translateExtent = _ref.translateExtent,\n    minZoom = _ref.minZoom,\n    maxZoom = _ref.maxZoom,\n    _ref$defaultZoom = _ref.defaultZoom,\n    defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n    _ref$defaultPosition = _ref.defaultPosition,\n    defaultPosition = _ref$defaultPosition === void 0 ? [0, 0] : _ref$defaultPosition,\n    zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n    _ref$preventScrolling = _ref.preventScrolling,\n    preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n    children = _ref.children,\n    noWheelClassName = _ref.noWheelClassName,\n    noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var isZoomingOrPanning = useRef(false);\n  var zoomPane = useRef(null);\n  var prevTransform = useRef({\n    x: 0,\n    y: 0,\n    zoom: 0\n  });\n  var _useStore = useStore(selector$6, shallow),\n    d3Zoom = _useStore.d3Zoom,\n    d3Selection = _useStore.d3Selection,\n    d3ZoomHandler = _useStore.d3ZoomHandler;\n  var zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n  useResizeHandler(zoomPane);\n  useEffect(function () {\n    if (zoomPane.current) {\n      var _selection$node;\n      var d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n      var selection = select(zoomPane.current).call(d3ZoomInstance);\n      var clampedX = clamp(defaultPosition[0], translateExtent[0][0], translateExtent[1][0]);\n      var clampedY = clamp(defaultPosition[1], translateExtent[0][1], translateExtent[1][1]);\n      var clampedZoom = clamp(defaultZoom, minZoom, maxZoom);\n      var updatedTransform = zoomIdentity.translate(clampedX, clampedY).scale(clampedZoom);\n      d3ZoomInstance.transform(selection, updatedTransform);\n      store.setState({\n        d3Zoom: d3ZoomInstance,\n        d3Selection: selection,\n        d3ZoomHandler: selection.on('wheel.zoom'),\n        // we need to pass transform because zoom handler is not registered when we set the initial transform\n        transform: [clampedX, clampedY, clampedZoom],\n        domNode: (_selection$node = selection.node()) === null || _selection$node === void 0 ? void 0 : _selection$node.closest('.react-flow')\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (d3Selection && d3Zoom) {\n      if (panOnScroll && !zoomActivationKeyPressed) {\n        d3Selection.on('wheel', function (event) {\n          if (isWrappedWithClass(event, noWheelClassName)) {\n            return false;\n          }\n          event.preventDefault();\n          event.stopImmediatePropagation();\n          var currentZoom = d3Selection.property('__zoom').k || 1;\n          if (event.ctrlKey && zoomOnPinch) {\n            var point = pointer(event); // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\n\n            var pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\n            var _zoom = currentZoom * Math.pow(2, pinchDelta);\n            d3Zoom.scaleTo(d3Selection, _zoom, point);\n            return;\n          } // increase scroll speed in firefox\n          // firefox: deltaMode === 1; chrome: deltaMode === 0\n\n          var deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n          var deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n          var deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n          d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\n        }).on('wheel.zoom', null);\n      } else if (typeof d3ZoomHandler !== 'undefined') {\n        d3Selection.on('wheel', function (event) {\n          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n            return null;\n          }\n          event.preventDefault();\n        }).on('wheel.zoom', d3ZoomHandler);\n      }\n    }\n  }, [panOnScroll, panOnScrollMode, d3Selection, d3Zoom, d3ZoomHandler, zoomActivationKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName]);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (selectionKeyPressed && !isZoomingOrPanning.current) {\n        d3Zoom.on('zoom', null);\n      } else if (!selectionKeyPressed) {\n        d3Zoom.on('zoom', function (event) {\n          store.setState({\n            transform: [event.transform.x, event.transform.y, event.transform.k]\n          });\n          if (onMove) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            onMove(event.sourceEvent, flowTransform);\n          }\n        });\n      }\n    }\n  }, [selectionKeyPressed, d3Zoom, onMove]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('start', function (event) {\n        isZoomingOrPanning.current = true;\n        if (onMoveStart) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveStart(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveStart]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('end', function (event) {\n        isZoomingOrPanning.current = false;\n        if (onMoveEnd && viewChanged(prevTransform.current, event.transform)) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveEnd(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveEnd]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.filter(function (event) {\n        var zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n        var pinchZoom = zoomOnPinch && event.ctrlKey; // if all interactions are disabled, we prevent all zoom events\n\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n          return false;\n        } // during a selection we prevent all other interactions\n\n        if (selectionKeyPressed) {\n          return false;\n        } // if zoom on double click is disabled, we prevent the double click event\n\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\n          return false;\n        } // if the target element is inside an element with the nowheel class, we prevent zooming\n\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n          return false;\n        } // if the target element is inside an element with the nopan class, we prevent panning\n\n        if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n          return false;\n        }\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n          return false;\n        } // when there is no scroll handling enabled, we prevent all wheel events\n\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n          return false;\n        } // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n          return false;\n        } // default filter for d3-zoom\n\n        return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n      });\n    }\n  }, [d3Zoom, zoomOnScroll, zoomOnPinch, panOnScroll, zoomOnDoubleClick, panOnDrag, selectionKeyPressed, elementsSelectable, zoomActivationKeyPressed]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__renderer react-flow__container\",\n    ref: zoomPane\n  }, children);\n};\nfunction ownKeys$7(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$7(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\nvar selector$5 = function selector(s) {\n  return {\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable\n  };\n};\nvar initialRect = {\n  startX: 0,\n  startY: 0,\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  draw: false\n};\nvar UserSelection = /*#__PURE__*/memo(function (_ref) {\n  var selectionKeyPressed = _ref.selectionKeyPressed;\n  var store = useStoreApi();\n  var prevSelectedNodesCount = useRef(0);\n  var prevSelectedEdgesCount = useRef(0);\n  var containerBounds = useRef();\n  var _useState = useState(initialRect),\n    _useState2 = _slicedToArray(_useState, 2),\n    userSelectionRect = _useState2[0],\n    setUserSelectionRect = _useState2[1];\n  var _useStore = useStore(selector$5, shallow),\n    userSelectionActive = _useStore.userSelectionActive,\n    elementsSelectable = _useStore.elementsSelectable;\n  var renderUserSelectionPane = userSelectionActive || selectionKeyPressed;\n  if (!elementsSelectable || !renderUserSelectionPane) {\n    return null;\n  }\n  var resetUserSelection = function resetUserSelection() {\n    setUserSelectionRect(initialRect);\n    store.setState({\n      userSelectionActive: false\n    });\n    prevSelectedNodesCount.current = 0;\n    prevSelectedEdgesCount.current = 0;\n  };\n  var onMouseDown = function onMouseDown(event) {\n    var reactFlowNode = event.target.closest('.react-flow');\n    containerBounds.current = reactFlowNode.getBoundingClientRect();\n    var mousePos = getMousePosition(event, containerBounds.current);\n    setUserSelectionRect({\n      width: 0,\n      height: 0,\n      startX: mousePos.x,\n      startY: mousePos.y,\n      x: mousePos.x,\n      y: mousePos.y,\n      draw: true\n    });\n    store.setState({\n      userSelectionActive: true,\n      nodesSelectionActive: false\n    });\n  };\n  var onMouseMove = function onMouseMove(event) {\n    var _userSelectionRect$st, _userSelectionRect$st2;\n    if (!selectionKeyPressed || !userSelectionRect.draw || !containerBounds.current) {\n      return;\n    }\n    var mousePos = getMousePosition(event, containerBounds.current);\n    var startX = (_userSelectionRect$st = userSelectionRect.startX) !== null && _userSelectionRect$st !== void 0 ? _userSelectionRect$st : 0;\n    var startY = (_userSelectionRect$st2 = userSelectionRect.startY) !== null && _userSelectionRect$st2 !== void 0 ? _userSelectionRect$st2 : 0;\n    var nextUserSelectRect = _objectSpread$7(_objectSpread$7({}, userSelectionRect), {}, {\n      x: mousePos.x < startX ? mousePos.x : startX,\n      y: mousePos.y < startY ? mousePos.y : startY,\n      width: Math.abs(mousePos.x - startX),\n      height: Math.abs(mousePos.y - startY)\n    });\n    var _store$getState = store.getState(),\n      nodeInternals = _store$getState.nodeInternals,\n      edges = _store$getState.edges,\n      transform = _store$getState.transform,\n      onNodesChange = _store$getState.onNodesChange,\n      onEdgesChange = _store$getState.onEdgesChange;\n    var nodes = Array.from(nodeInternals.values());\n    var selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, false, true);\n    var selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map(function (e) {\n      return e.id;\n    });\n    var selectedNodeIds = selectedNodes.map(function (n) {\n      return n.id;\n    });\n    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n      prevSelectedNodesCount.current = selectedNodeIds.length;\n      var changes = getSelectionChanges(nodes, selectedNodeIds);\n      if (changes.length) {\n        onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n      }\n    }\n    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n      prevSelectedEdgesCount.current = selectedEdgeIds.length;\n      var _changes = getSelectionChanges(edges, selectedEdgeIds);\n      if (_changes.length) {\n        onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(_changes);\n      }\n    }\n    setUserSelectionRect(nextUserSelectRect);\n  };\n  var onMouseUp = function onMouseUp() {\n    store.setState({\n      nodesSelectionActive: prevSelectedNodesCount.current > 0\n    });\n    resetUserSelection();\n  };\n  var onMouseLeave = function onMouseLeave() {\n    store.setState({\n      nodesSelectionActive: false\n    });\n    resetUserSelection();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__selectionpane react-flow__container\",\n    onMouseDown: onMouseDown,\n    onMouseMove: onMouseMove,\n    onMouseUp: onMouseUp,\n    onMouseLeave: onMouseLeave\n  }, userSelectionRect.draw && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__selection react-flow__container\",\n    style: {\n      width: userSelectionRect.width,\n      height: userSelectionRect.height,\n      transform: \"translate(\".concat(userSelectionRect.x, \"px, \").concat(userSelectionRect.y, \"px)\")\n    }\n  }));\n});\nfunction ownKeys$6(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$6(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction isParentSelected(node, nodeInternals) {\n  if (!node.parentNode) {\n    return false;\n  }\n  var parentNode = nodeInternals.get(node.parentNode);\n  if (!parentNode) {\n    return false;\n  }\n  if (parentNode.selected) {\n    return true;\n  }\n  return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n  var current = target;\n  do {\n    var _current;\n    if ((_current = current) !== null && _current !== void 0 && _current.matches(selector)) return true;\n    if (current === nodeRef.current) return false;\n    current = current.parentElement;\n  } while (current);\n  return false;\n} // looks for all selected nodes and created a NodeDragItem for each of them\n\nfunction getDragItems(nodeInternals, mousePos, nodeId) {\n  return Array.from(nodeInternals.values()).filter(function (n) {\n    return (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, nodeInternals));\n  }).map(function (n) {\n    var _n$positionAbsolute$x, _n$positionAbsolute, _n$positionAbsolute$y, _n$positionAbsolute2;\n    return {\n      id: n.id,\n      position: n.position || {\n        x: 0,\n        y: 0\n      },\n      positionAbsolute: n.positionAbsolute || {\n        x: 0,\n        y: 0\n      },\n      distance: {\n        x: mousePos.x - ((_n$positionAbsolute$x = (_n$positionAbsolute = n.positionAbsolute) === null || _n$positionAbsolute === void 0 ? void 0 : _n$positionAbsolute.x) !== null && _n$positionAbsolute$x !== void 0 ? _n$positionAbsolute$x : 0),\n        y: mousePos.y - ((_n$positionAbsolute$y = (_n$positionAbsolute2 = n.positionAbsolute) === null || _n$positionAbsolute2 === void 0 ? void 0 : _n$positionAbsolute2.y) !== null && _n$positionAbsolute$y !== void 0 ? _n$positionAbsolute$y : 0)\n      },\n      delta: {\n        x: 0,\n        y: 0\n      },\n      extent: n.extent,\n      parentNode: n.parentNode,\n      width: n.width,\n      height: n.height\n    };\n  });\n}\nfunction updatePosition(dragItem, mousePos, snapToGrid, _ref, nodeInternals, nodeExtent) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    snapX = _ref2[0],\n    snapY = _ref2[1];\n  var currentExtent = dragItem.extent || nodeExtent;\n  var nextPosition = {\n    x: mousePos.x - dragItem.distance.x,\n    y: mousePos.y - dragItem.distance.y\n  };\n  if (snapToGrid) {\n    nextPosition.x = snapX * Math.round(nextPosition.x / snapX);\n    nextPosition.y = snapY * Math.round(nextPosition.y / snapY);\n  }\n  if (dragItem.extent === 'parent') {\n    if (dragItem.parentNode && dragItem.width && dragItem.height) {\n      var parent = nodeInternals.get(dragItem.parentNode);\n      currentExtent = parent !== null && parent !== void 0 && parent.positionAbsolute && parent !== null && parent !== void 0 && parent.width && parent !== null && parent !== void 0 && parent.height ? [[parent.positionAbsolute.x, parent.positionAbsolute.y], [parent.positionAbsolute.x + parent.width - dragItem.width, parent.positionAbsolute.y + parent.height - dragItem.height]] : currentExtent;\n    } else {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('[React Flow]: Only child nodes can use a parent extent. Help: https://reactflow.dev/error#500');\n      }\n      currentExtent = nodeExtent;\n    }\n  } else if (dragItem.extent && dragItem.parentNode) {\n    var _parent$positionAbsol, _parent$positionAbsol2, _parent$positionAbsol3, _parent$positionAbsol4;\n    var _parent = nodeInternals.get(dragItem.parentNode);\n    var parentX = (_parent$positionAbsol = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol2 = _parent.positionAbsolute) === null || _parent$positionAbsol2 === void 0 ? void 0 : _parent$positionAbsol2.x) !== null && _parent$positionAbsol !== void 0 ? _parent$positionAbsol : 0;\n    var parentY = (_parent$positionAbsol3 = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol4 = _parent.positionAbsolute) === null || _parent$positionAbsol4 === void 0 ? void 0 : _parent$positionAbsol4.y) !== null && _parent$positionAbsol3 !== void 0 ? _parent$positionAbsol3 : 0;\n    currentExtent = [[dragItem.extent[0][0] + parentX, dragItem.extent[0][1] + parentY], [dragItem.extent[1][0] + parentX, dragItem.extent[1][1] + parentY]];\n  }\n  var parentPosition = {\n    x: 0,\n    y: 0\n  };\n  if (dragItem.parentNode) {\n    var _parentNode$positionA, _parentNode$positionA2, _parentNode$positionA3, _parentNode$positionA4;\n    var parentNode = nodeInternals.get(dragItem.parentNode);\n    parentPosition = {\n      x: (_parentNode$positionA = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA2 = parentNode.positionAbsolute) === null || _parentNode$positionA2 === void 0 ? void 0 : _parentNode$positionA2.x) !== null && _parentNode$positionA !== void 0 ? _parentNode$positionA : 0,\n      y: (_parentNode$positionA3 = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA4 = parentNode.positionAbsolute) === null || _parentNode$positionA4 === void 0 ? void 0 : _parentNode$positionA4.y) !== null && _parentNode$positionA3 !== void 0 ? _parentNode$positionA3 : 0\n    };\n  }\n  dragItem.positionAbsolute = currentExtent ? clampPosition(nextPosition, currentExtent) : nextPosition;\n  dragItem.position = {\n    x: dragItem.positionAbsolute.x - parentPosition.x,\n    y: dragItem.positionAbsolute.y - parentPosition.y\n  };\n  return dragItem;\n} // returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\n\nfunction getEventHandlerParams(_ref3) {\n  var nodeId = _ref3.nodeId,\n    dragItems = _ref3.dragItems,\n    nodeInternals = _ref3.nodeInternals;\n  var extentedDragItems = dragItems.map(function (n) {\n    var node = nodeInternals.get(n.id);\n    return _objectSpread$6(_objectSpread$6({}, node), {}, {\n      position: n.position,\n      positionAbsolute: n.positionAbsolute\n    });\n  });\n  return [nodeId ? extentedDragItems.find(function (n) {\n    return n.id === nodeId;\n  }) : extentedDragItems[0], extentedDragItems];\n}\nfunction wrapSelectionDragFunc(selectionFunc) {\n  return function (event, _, nodes) {\n    return selectionFunc === null || selectionFunc === void 0 ? void 0 : selectionFunc(event, nodes);\n  };\n}\nfunction useDrag(_ref) {\n  var nodeRef = _ref.nodeRef,\n    _ref$disabled = _ref.disabled,\n    disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n    noDragClassName = _ref.noDragClassName,\n    handleSelector = _ref.handleSelector,\n    nodeId = _ref.nodeId,\n    isSelectable = _ref.isSelectable,\n    selectNodesOnDrag = _ref.selectNodesOnDrag;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    dragging = _useState2[0],\n    setDragging = _useState2[1];\n  var store = useStoreApi();\n  var dragItems = useRef();\n  var lastPos = useRef({\n    x: null,\n    y: null\n  }); // returns the pointer position projected to the RF coordinate system\n\n  var getPointerPosition = useCallback(function (_ref2) {\n    var sourceEvent = _ref2.sourceEvent;\n    var _store$getState = store.getState(),\n      transform = _store$getState.transform,\n      snapGrid = _store$getState.snapGrid,\n      snapToGrid = _store$getState.snapToGrid;\n    var x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n    var y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n    var pointerPos = pointToRendererPoint({\n      x: x,\n      y: y\n    }, transform, snapToGrid, snapGrid);\n    return pointerPos;\n  }, []);\n  useEffect(function () {\n    if (nodeRef !== null && nodeRef !== void 0 && nodeRef.current) {\n      var selection = select(nodeRef.current);\n      if (disabled) {\n        selection.on('.drag', null);\n      } else {\n        var dragHandler = drag().on('start', function (event) {\n          var _store$getState2 = store.getState(),\n            nodeInternals = _store$getState2.nodeInternals,\n            multiSelectionActive = _store$getState2.multiSelectionActive,\n            unselectNodesAndEdges = _store$getState2.unselectNodesAndEdges,\n            onNodeDragStart = _store$getState2.onNodeDragStart,\n            onSelectionDragStart = _store$getState2.onSelectionDragStart;\n          var onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n          if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n            var _nodeInternals$get;\n            if (!((_nodeInternals$get = nodeInternals.get(nodeId)) !== null && _nodeInternals$get !== void 0 && _nodeInternals$get.selected)) {\n              // we need to reset selected nodes when selectNodesOnDrag=false\n              unselectNodesAndEdges();\n            }\n          }\n          if (nodeId && isSelectable && selectNodesOnDrag) {\n            handleNodeClick({\n              id: nodeId,\n              store: store\n            });\n          }\n          var pointerPos = getPointerPosition(event);\n          lastPos.current = pointerPos;\n          dragItems.current = getDragItems(nodeInternals, pointerPos, nodeId);\n          if (onStart && dragItems.current) {\n            var _getEventHandlerParam = getEventHandlerParams({\n                nodeId: nodeId,\n                dragItems: dragItems.current,\n                nodeInternals: nodeInternals\n              }),\n              _getEventHandlerParam2 = _slicedToArray(_getEventHandlerParam, 2),\n              currentNode = _getEventHandlerParam2[0],\n              nodes = _getEventHandlerParam2[1];\n            onStart(event.sourceEvent, currentNode, nodes);\n          }\n        }).on('drag', function (event) {\n          var _store$getState3 = store.getState(),\n            updateNodePositions = _store$getState3.updateNodePositions,\n            snapToGrid = _store$getState3.snapToGrid,\n            snapGrid = _store$getState3.snapGrid,\n            nodeInternals = _store$getState3.nodeInternals,\n            nodeExtent = _store$getState3.nodeExtent,\n            onNodeDrag = _store$getState3.onNodeDrag,\n            onSelectionDrag = _store$getState3.onSelectionDrag;\n          var pointerPos = getPointerPosition(event); // skip events without movement\n\n          if ((lastPos.current.x !== pointerPos.x || lastPos.current.y !== pointerPos.y) && dragItems.current) {\n            lastPos.current = pointerPos;\n            dragItems.current = dragItems.current.map(function (n) {\n              return updatePosition(n, pointerPos, snapToGrid, snapGrid, nodeInternals, nodeExtent);\n            });\n            var onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n            updateNodePositions(dragItems.current, true, true);\n            setDragging(true);\n            if (onDrag) {\n              var _getEventHandlerParam3 = getEventHandlerParams({\n                  nodeId: nodeId,\n                  dragItems: dragItems.current,\n                  nodeInternals: nodeInternals\n                }),\n                _getEventHandlerParam4 = _slicedToArray(_getEventHandlerParam3, 2),\n                currentNode = _getEventHandlerParam4[0],\n                nodes = _getEventHandlerParam4[1];\n              onDrag(event.sourceEvent, currentNode, nodes);\n            }\n          }\n          event.on('end', function (event) {\n            setDragging(false);\n            if (dragItems.current) {\n              var _store$getState4 = store.getState(),\n                _updateNodePositions = _store$getState4.updateNodePositions,\n                _nodeInternals = _store$getState4.nodeInternals,\n                onNodeDragStop = _store$getState4.onNodeDragStop,\n                onSelectionDragStop = _store$getState4.onSelectionDragStop;\n              var onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n              _updateNodePositions(dragItems.current, false, false);\n              if (onStop) {\n                var _getEventHandlerParam5 = getEventHandlerParams({\n                    nodeId: nodeId,\n                    dragItems: dragItems.current,\n                    nodeInternals: _nodeInternals\n                  }),\n                  _getEventHandlerParam6 = _slicedToArray(_getEventHandlerParam5, 2),\n                  _currentNode = _getEventHandlerParam6[0],\n                  _nodes = _getEventHandlerParam6[1];\n                onStop(event.sourceEvent, _currentNode, _nodes);\n              }\n            }\n          });\n        }).filter(function (event) {\n          var target = event.target;\n          var isDraggable = !event.button && (!noDragClassName || !hasSelector(target, \".\".concat(noDragClassName), nodeRef)) && (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n          return isDraggable;\n        });\n        selection.call(dragHandler);\n        return function () {\n          selection.on('.drag', null);\n        };\n      }\n    }\n  }, [nodeRef, disabled, noDragClassName, handleSelector, isSelectable, store, nodeId, selectNodesOnDrag, getPointerPosition]);\n  return dragging;\n}\nfunction ownKeys$5(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$5(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar selector$4 = function selector(s) {\n  return _objectSpread$5({\n    transformString: \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\"),\n    userSelectionActive: s.userSelectionActive\n  }, getRectOfNodes(Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  })));\n};\nvar bboxSelector = function bboxSelector(s) {\n  var selectedNodes = Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  });\n  return getRectOfNodes(selectedNodes);\n};\nfunction NodesSelection(_ref) {\n  var onSelectionContextMenu = _ref.onSelectionContextMenu,\n    noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var _useStore = useStore(selector$4, shallow),\n    transformString = _useStore.transformString,\n    userSelectionActive = _useStore.userSelectionActive;\n  var _useStore2 = useStore(bboxSelector, shallow),\n    width = _useStore2.width,\n    height = _useStore2.height,\n    left = _useStore2.x,\n    top = _useStore2.y;\n  var nodeRef = useRef(null);\n  useDrag({\n    nodeRef: nodeRef\n  });\n  if (userSelectionActive || !width || !height) {\n    return null;\n  }\n  var onContextMenu = onSelectionContextMenu ? function (event) {\n    var selectedNodes = Array.from(store.getState().nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    });\n    onSelectionContextMenu(event, selectedNodes);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]),\n    style: {\n      transform: transformString\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: nodeRef,\n    className: \"react-flow__nodesselection-rect\",\n    onContextMenu: onContextMenu,\n    style: {\n      width: width,\n      height: height,\n      top: top,\n      left: left\n    }\n  }));\n}\nvar NodesSelection$1 = /*#__PURE__*/memo(NodesSelection);\nvar selector$3 = function selector(s) {\n  return s.nodesSelectionActive;\n};\nvar FlowRenderer = function FlowRenderer(_ref) {\n  var children = _ref.children,\n    onPaneClick = _ref.onPaneClick,\n    onPaneContextMenu = _ref.onPaneContextMenu,\n    onPaneScroll = _ref.onPaneScroll,\n    deleteKeyCode = _ref.deleteKeyCode,\n    onMove = _ref.onMove,\n    onMoveStart = _ref.onMoveStart,\n    onMoveEnd = _ref.onMoveEnd,\n    selectionKeyCode = _ref.selectionKeyCode,\n    multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n    zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n    elementsSelectable = _ref.elementsSelectable,\n    zoomOnScroll = _ref.zoomOnScroll,\n    zoomOnPinch = _ref.zoomOnPinch,\n    panOnScroll = _ref.panOnScroll,\n    panOnScrollSpeed = _ref.panOnScrollSpeed,\n    panOnScrollMode = _ref.panOnScrollMode,\n    zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n    panOnDrag = _ref.panOnDrag,\n    translateExtent = _ref.translateExtent,\n    minZoom = _ref.minZoom,\n    maxZoom = _ref.maxZoom,\n    defaultZoom = _ref.defaultZoom,\n    defaultPosition = _ref.defaultPosition,\n    preventScrolling = _ref.preventScrolling,\n    onSelectionContextMenu = _ref.onSelectionContextMenu,\n    noWheelClassName = _ref.noWheelClassName,\n    noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var nodesSelectionActive = useStore(selector$3);\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\n  useGlobalKeyHandler({\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode\n  });\n  var onClick = function onClick(event) {\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\n    store.getState().resetSelectedElements();\n    store.setState({\n      nodesSelectionActive: false\n    });\n  };\n  var onContextMenu = onPaneContextMenu ? function (event) {\n    return onPaneContextMenu(event);\n  } : undefined;\n  var onWheel = onPaneScroll ? function (event) {\n    return onPaneScroll(event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(ZoomPane, {\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    selectionKeyPressed: selectionKeyPressed,\n    elementsSelectable: elementsSelectable,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnDrag: panOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    preventScrolling: preventScrolling,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, children, /*#__PURE__*/React.createElement(UserSelection, {\n    selectionKeyPressed: selectionKeyPressed\n  }), nodesSelectionActive && /*#__PURE__*/React.createElement(NodesSelection$1, {\n    onSelectionContextMenu: onSelectionContextMenu,\n    noPanClassName: noPanClassName\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__pane react-flow__container\",\n    onClick: onClick,\n    onContextMenu: onContextMenu,\n    onWheel: onWheel\n  }));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = /*#__PURE__*/memo(FlowRenderer);\nfunction useVisibleNodes(onlyRenderVisible) {\n  var nodes = useStore(useCallback(function (s) {\n    return onlyRenderVisible ? getNodesInside(s.nodeInternals, {\n      x: 0,\n      y: 0,\n      width: s.width,\n      height: s.height\n    }, s.transform, true) : Array.from(s.nodeInternals.values());\n  }, [onlyRenderVisible]));\n  return nodes;\n}\nvar selector$2 = function selector(s) {\n  return {\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions\n  };\n};\nvar NodeRenderer = function NodeRenderer(props) {\n  var _useStore = useStore(selector$2, shallow),\n    nodesDraggable = _useStore.nodesDraggable,\n    nodesConnectable = _useStore.nodesConnectable,\n    elementsSelectable = _useStore.elementsSelectable,\n    updateNodeDimensions = _useStore.updateNodeDimensions;\n  var nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n  var resizeObserverRef = useRef();\n  var resizeObserver = useMemo(function () {\n    if (typeof ResizeObserver === 'undefined') {\n      return null;\n    }\n    var observer = new ResizeObserver(function (entries) {\n      var updates = entries.map(function (entry) {\n        return {\n          id: entry.target.getAttribute('data-id'),\n          nodeElement: entry.target,\n          forceUpdate: true\n        };\n      });\n      updateNodeDimensions(updates);\n    });\n    resizeObserverRef.current = observer;\n    return observer;\n  }, []);\n  useEffect(function () {\n    return function () {\n      var _resizeObserverRef$cu;\n      resizeObserverRef === null || resizeObserverRef === void 0 ? void 0 : (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__nodes react-flow__container\"\n  }, nodes.map(function (node) {\n    var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4, _node$internalsSymbol, _node$internalsSymbol2, _node$internalsSymbol3;\n    var nodeType = node.type || 'default';\n    if (!props.nodeTypes[nodeType]) {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\"[React Flow]: Node type \\\"\".concat(nodeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n      }\n      nodeType = 'default';\n    }\n    var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes[\"default\"];\n    var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\n    var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\n    var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\n    return /*#__PURE__*/React.createElement(NodeComponent, {\n      key: node.id,\n      id: node.id,\n      className: node.className,\n      style: node.style,\n      type: nodeType,\n      data: node.data,\n      sourcePosition: node.sourcePosition || Position.Bottom,\n      targetPosition: node.targetPosition || Position.Top,\n      hidden: node.hidden,\n      xPos: (_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0,\n      yPos: (_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0,\n      selectNodesOnDrag: props.selectNodesOnDrag,\n      onClick: props.onNodeClick,\n      onMouseEnter: props.onNodeMouseEnter,\n      onMouseMove: props.onNodeMouseMove,\n      onMouseLeave: props.onNodeMouseLeave,\n      onContextMenu: props.onNodeContextMenu,\n      onDoubleClick: props.onNodeDoubleClick,\n      selected: !!node.selected,\n      isDraggable: isDraggable,\n      isSelectable: isSelectable,\n      isConnectable: isConnectable,\n      resizeObserver: resizeObserver,\n      dragHandle: node.dragHandle,\n      zIndex: (_node$internalsSymbol = (_node$internalsSymbol2 = node[internalsSymbol]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0,\n      isParent: !!((_node$internalsSymbol3 = node[internalsSymbol]) !== null && _node$internalsSymbol3 !== void 0 && _node$internalsSymbol3.isParent),\n      noDragClassName: props.noDragClassName,\n      noPanClassName: props.noPanClassName,\n      initialized: !!node.width && !!node.height\n    });\n  }));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = /*#__PURE__*/memo(NodeRenderer);\nvar _oppositePosition;\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar oppositePosition = (_oppositePosition = {}, _defineProperty(_oppositePosition, Position.Left, Position.Right), _defineProperty(_oppositePosition, Position.Right, Position.Left), _defineProperty(_oppositePosition, Position.Top, Position.Bottom), _defineProperty(_oppositePosition, Position.Bottom, Position.Top), _oppositePosition);\nvar ConnectionLine = function (_ref) {\n  var _fromNode$internalsSy, _fromNode$width, _fromNode$height, _fromNode$positionAbs, _fromNode$positionAbs2;\n  var connectionNodeId = _ref.connectionNodeId,\n    connectionHandleType = _ref.connectionHandleType,\n    connectionLineStyle = _ref.connectionLineStyle,\n    _ref$connectionLineTy = _ref.connectionLineType,\n    connectionLineType = _ref$connectionLineTy === void 0 ? ConnectionLineType.Bezier : _ref$connectionLineTy,\n    isConnectable = _ref.isConnectable,\n    CustomConnectionLineComponent = _ref.CustomConnectionLineComponent;\n  var _useStore = useStore(useCallback(function (s) {\n      return {\n        fromNode: s.nodeInternals.get(connectionNodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2]\n      };\n    }, [connectionNodeId]), shallow),\n    fromNode = _useStore.fromNode,\n    handleId = _useStore.handleId,\n    toX = _useStore.toX,\n    toY = _useStore.toY;\n  var fromHandleBounds = fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$internalsSy = fromNode[internalsSymbol]) === null || _fromNode$internalsSy === void 0 ? void 0 : _fromNode$internalsSy.handleBounds;\n  if (!fromNode || !isConnectable || !(fromHandleBounds !== null && fromHandleBounds !== void 0 && fromHandleBounds[connectionHandleType])) {\n    return null;\n  }\n  var handleBound = fromHandleBounds[connectionHandleType];\n  var fromHandle = handleId ? handleBound.find(function (d) {\n    return d.id === handleId;\n  }) : handleBound[0];\n  var fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : ((_fromNode$width = fromNode === null || fromNode === void 0 ? void 0 : fromNode.width) !== null && _fromNode$width !== void 0 ? _fromNode$width : 0) / 2;\n  var fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : (_fromNode$height = fromNode === null || fromNode === void 0 ? void 0 : fromNode.height) !== null && _fromNode$height !== void 0 ? _fromNode$height : 0;\n  var fromX = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs = fromNode.positionAbsolute) === null || _fromNode$positionAbs === void 0 ? void 0 : _fromNode$positionAbs.x) || 0) + fromHandleX;\n  var fromY = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs2 = fromNode.positionAbsolute) === null || _fromNode$positionAbs2 === void 0 ? void 0 : _fromNode$positionAbs2.y) || 0) + fromHandleY;\n  var fromPosition = fromHandle === null || fromHandle === void 0 ? void 0 : fromHandle.position;\n  if (!fromPosition) {\n    return null;\n  }\n  var toPosition = oppositePosition[fromPosition];\n  var sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition;\n  switch (connectionHandleType) {\n    case 'source':\n      {\n        sourceX = fromX;\n        sourceY = fromY;\n        sourcePosition = fromPosition;\n        targetX = toX;\n        targetY = toY;\n        targetPosition = toPosition;\n      }\n      break;\n    case 'target':\n      {\n        sourceX = toX;\n        sourceY = toY;\n        sourcePosition = toPosition;\n        targetX = fromX;\n        targetY = fromY;\n        targetPosition = fromPosition;\n      }\n      break;\n  }\n  if (CustomConnectionLineComponent) {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: \"react-flow__connection\"\n    }, /*#__PURE__*/React.createElement(CustomConnectionLineComponent, {\n      connectionLineType: connectionLineType,\n      connectionLineStyle: connectionLineStyle,\n      fromNode: fromNode,\n      fromHandle: fromHandle,\n      fromX: fromX,\n      fromY: fromY,\n      toX: toX,\n      toY: toY,\n      fromPosition: fromPosition,\n      toPosition: toPosition,\n      // remove in v11\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceNode: fromNode,\n      sourceHandle: fromHandle,\n      targetX: targetX,\n      targetY: targetY,\n      sourceX: sourceX,\n      sourceY: sourceY\n    }));\n  }\n  var dAttr = '';\n  var pathParams = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n  if (connectionLineType === ConnectionLineType.Bezier) {\n    // we assume the destination position is opposite to the source position\n    dAttr = getBezierPath(pathParams);\n  } else if (connectionLineType === ConnectionLineType.Step) {\n    dAttr = getSmoothStepPath(_objectSpread$4(_objectSpread$4({}, pathParams), {}, {\n      borderRadius: 0\n    }));\n  } else if (connectionLineType === ConnectionLineType.SmoothStep) {\n    dAttr = getSmoothStepPath(pathParams);\n  } else if (connectionLineType === ConnectionLineType.SimpleBezier) {\n    dAttr = getSimpleBezierPath(pathParams);\n  } else {\n    dAttr = \"M\".concat(sourceX, \",\").concat(sourceY, \" \").concat(targetX, \",\").concat(targetY);\n  }\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"react-flow__connection\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: dAttr,\n    className: \"react-flow__connection-path\",\n    style: connectionLineStyle\n  }));\n};\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nvar _MarkerSymbols;\nvar ArrowSymbol = function ArrowSymbol(_ref) {\n  var _ref$color = _ref.color,\n    color = _ref$color === void 0 ? 'none' : _ref$color,\n    _ref$strokeWidth = _ref.strokeWidth,\n    strokeWidth = _ref$strokeWidth === void 0 ? 1 : _ref$strokeWidth;\n  return /*#__PURE__*/React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: \"none\",\n    points: \"-5,-4 0,0 -5,4\"\n  });\n};\nvar ArrowClosedSymbol = function ArrowClosedSymbol(_ref2) {\n  var _ref2$color = _ref2.color,\n    color = _ref2$color === void 0 ? 'none' : _ref2$color,\n    _ref2$strokeWidth = _ref2.strokeWidth,\n    strokeWidth = _ref2$strokeWidth === void 0 ? 1 : _ref2$strokeWidth;\n  return /*#__PURE__*/React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: color,\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\n  });\n};\nvar MarkerSymbols = (_MarkerSymbols = {}, _defineProperty(_MarkerSymbols, MarkerType.Arrow, ArrowSymbol), _defineProperty(_MarkerSymbols, MarkerType.ArrowClosed, ArrowClosedSymbol), _MarkerSymbols);\nfunction useMarkerSymbol(type) {\n  var symbol = useMemo(function () {\n    var symbolExists = MarkerSymbols.hasOwnProperty(type);\n    if (!symbolExists) {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\"[React Flow]: Marker type \\\"\".concat(type, \"\\\" doesn't exist. Help: https://reactflow.dev/error#900\"));\n      }\n      return function () {\n        return null;\n      };\n    }\n    return MarkerSymbols[type];\n  }, [type]);\n  return symbol;\n}\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar Marker = function Marker(_ref) {\n  var id = _ref.id,\n    type = _ref.type,\n    color = _ref.color,\n    _ref$width = _ref.width,\n    width = _ref$width === void 0 ? 12.5 : _ref$width,\n    _ref$height = _ref.height,\n    height = _ref$height === void 0 ? 12.5 : _ref$height,\n    _ref$markerUnits = _ref.markerUnits,\n    markerUnits = _ref$markerUnits === void 0 ? 'strokeWidth' : _ref$markerUnits,\n    strokeWidth = _ref.strokeWidth,\n    _ref$orient = _ref.orient,\n    orient = _ref$orient === void 0 ? 'auto' : _ref$orient;\n  var _Symbol = useMarkerSymbol(type);\n  return /*#__PURE__*/React.createElement(\"marker\", {\n    className: \"react-flow__arrowhead\",\n    id: id,\n    markerWidth: \"\".concat(width),\n    markerHeight: \"\".concat(height),\n    viewBox: \"-10 -10 20 20\",\n    markerUnits: markerUnits,\n    orient: orient,\n    refX: \"0\",\n    refY: \"0\"\n  }, /*#__PURE__*/React.createElement(_Symbol, {\n    color: color,\n    strokeWidth: strokeWidth\n  }));\n};\nvar markerSelector = function markerSelector(_ref2) {\n  var defaultColor = _ref2.defaultColor,\n    rfId = _ref2.rfId;\n  return function (s) {\n    var ids = [];\n    return s.edges.reduce(function (markers, edge) {\n      [edge.markerStart, edge.markerEnd].forEach(function (marker) {\n        if (marker && _typeof(marker) === 'object') {\n          var markerId = getMarkerId(marker, rfId);\n          if (!ids.includes(markerId)) {\n            markers.push(_objectSpread$3({\n              id: markerId,\n              color: marker.color || defaultColor\n            }, marker));\n            ids.push(markerId);\n          }\n        }\n      });\n      return markers;\n    }, []).sort(function (a, b) {\n      return a.id.localeCompare(b.id);\n    });\n  };\n}; // when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\n\nvar MarkerDefinitions = function MarkerDefinitions(_ref3) {\n  var defaultColor = _ref3.defaultColor,\n    rfId = _ref3.rfId;\n  var markers = useStore(useCallback(markerSelector({\n    defaultColor: defaultColor,\n    rfId: rfId\n  }), [defaultColor, rfId]),\n  // the id includes all marker options, so we just need to look at that part of the marker\n  function (a, b) {\n    return !(a.length !== b.length || a.some(function (m, i) {\n      return m.id !== b[i].id;\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"defs\", null, markers.map(function (marker) {\n    return /*#__PURE__*/React.createElement(Marker, {\n      id: marker.id,\n      key: marker.id,\n      type: marker.type,\n      color: marker.color,\n      width: marker.width,\n      height: marker.height,\n      markerUnits: marker.markerUnits,\n      strokeWidth: marker.strokeWidth,\n      orient: marker.orient\n    });\n  }));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = /*#__PURE__*/memo(MarkerDefinitions);\nvar defaultEdgeTree = [{\n  level: 0,\n  isMaxLevel: true,\n  edges: []\n}];\nfunction groupEdgesByZLevel(edges, nodeInternals) {\n  var elevateEdgesOnSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var maxLevel = -1;\n  var levelLookup = edges.reduce(function (tree, edge) {\n    var hasZIndex = isNumeric(edge.zIndex);\n    var z = hasZIndex ? edge.zIndex : 0;\n    if (elevateEdgesOnSelect) {\n      var _nodeInternals$get, _nodeInternals$get$in, _nodeInternals$get2, _nodeInternals$get2$i;\n      z = hasZIndex ? edge.zIndex : Math.max(((_nodeInternals$get = nodeInternals.get(edge.source)) === null || _nodeInternals$get === void 0 ? void 0 : (_nodeInternals$get$in = _nodeInternals$get[internalsSymbol]) === null || _nodeInternals$get$in === void 0 ? void 0 : _nodeInternals$get$in.z) || 0, ((_nodeInternals$get2 = nodeInternals.get(edge.target)) === null || _nodeInternals$get2 === void 0 ? void 0 : (_nodeInternals$get2$i = _nodeInternals$get2[internalsSymbol]) === null || _nodeInternals$get2$i === void 0 ? void 0 : _nodeInternals$get2$i.z) || 0);\n    }\n    if (tree[z]) {\n      tree[z].push(edge);\n    } else {\n      tree[z] = [edge];\n    }\n    maxLevel = z > maxLevel ? z : maxLevel;\n    return tree;\n  }, {});\n  var edgeTree = Object.entries(levelLookup).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      edges = _ref2[1];\n    var level = +key;\n    return {\n      edges: edges,\n      level: level,\n      isMaxLevel: level === maxLevel\n    };\n  });\n  if (edgeTree.length === 0) {\n    return defaultEdgeTree;\n  }\n  return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n  var edges = useStore(useCallback(function (s) {\n    if (!onlyRenderVisible) {\n      return s.edges;\n    }\n    return s.edges.filter(function (e) {\n      var sourceNode = nodeInternals.get(e.source);\n      var targetNode = nodeInternals.get(e.target);\n      return (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.width) && (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.height) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.width) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.height) && isEdgeVisible({\n        sourcePos: sourceNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        targetPos: targetNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        sourceWidth: sourceNode.width,\n        sourceHeight: sourceNode.height,\n        targetWidth: targetNode.width,\n        targetHeight: targetNode.height,\n        width: s.width,\n        height: s.height,\n        transform: s.transform\n      });\n    });\n  }, [onlyRenderVisible, nodeInternals]));\n  return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\nvar selector$1 = function selector(s) {\n  return {\n    connectionNodeId: s.connectionNodeId,\n    connectionHandleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals\n  };\n};\nvar EdgeRenderer = function EdgeRenderer(props) {\n  var _useStore = useStore(selector$1, shallow),\n    connectionNodeId = _useStore.connectionNodeId,\n    connectionHandleType = _useStore.connectionHandleType,\n    nodesConnectable = _useStore.nodesConnectable,\n    elementsSelectable = _useStore.elementsSelectable,\n    width = _useStore.width,\n    height = _useStore.height,\n    connectionMode = _useStore.connectionMode,\n    nodeInternals = _useStore.nodeInternals;\n  var edgeTree = useVisibleEdges(props.onlyRenderVisibleElements, nodeInternals, props.elevateEdgesOnSelect);\n  if (!width) {\n    return null;\n  }\n  var connectionLineType = props.connectionLineType,\n    defaultMarkerColor = props.defaultMarkerColor,\n    connectionLineStyle = props.connectionLineStyle,\n    connectionLineComponent = props.connectionLineComponent,\n    connectionLineContainerStyle = props.connectionLineContainerStyle;\n  var renderConnectionLine = connectionNodeId && connectionHandleType;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, edgeTree.map(function (_ref) {\n    var level = _ref.level,\n      edges = _ref.edges,\n      isMaxLevel = _ref.isMaxLevel;\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      key: level,\n      style: {\n        zIndex: level\n      },\n      width: width,\n      height: height,\n      className: \"react-flow__edges react-flow__container\"\n    }, isMaxLevel && /*#__PURE__*/React.createElement(MarkerDefinitions$1, {\n      defaultColor: defaultMarkerColor,\n      rfId: props.rfId\n    }), /*#__PURE__*/React.createElement(\"g\", null, edges.map(function (edge) {\n      var _getNodeData = getNodeData(nodeInternals, edge.source),\n        _getNodeData2 = _slicedToArray(_getNodeData, 3),\n        sourceNodeRect = _getNodeData2[0],\n        sourceHandleBounds = _getNodeData2[1],\n        sourceIsValid = _getNodeData2[2];\n      var _getNodeData3 = getNodeData(nodeInternals, edge.target),\n        _getNodeData4 = _slicedToArray(_getNodeData3, 3),\n        targetNodeRect = _getNodeData4[0],\n        targetHandleBounds = _getNodeData4[1],\n        targetIsValid = _getNodeData4[2];\n      if (!sourceIsValid || !targetIsValid) {\n        return null;\n      }\n      var edgeType = edge.type || 'default';\n      if (!props.edgeTypes[edgeType]) {\n        console.warn(\"[React Flow]: Edge type \\\"\".concat(edgeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n        edgeType = 'default';\n      }\n      var EdgeComponent = props.edgeTypes[edgeType] || props.edgeTypes[\"default\"]; // when connection type is loose we can define all handles as sources\n\n      var targetNodeHandles = connectionMode === ConnectionMode.Strict ? targetHandleBounds.target : targetHandleBounds.target || targetHandleBounds.source;\n      var sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle || null);\n      var targetHandle = getHandle(targetNodeHandles, edge.targetHandle || null);\n      var sourcePosition = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) || Position.Bottom;\n      var targetPosition = (targetHandle === null || targetHandle === void 0 ? void 0 : targetHandle.position) || Position.Top;\n      if (!sourceHandle) {\n        // @ts-ignore\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[React Flow]: Couldn't create edge for source handle id: \".concat(edge.sourceHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n        return null;\n      }\n      if (!targetHandle) {\n        // @ts-ignore\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[React Flow]: Couldn't create edge for target handle id: \".concat(edge.targetHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n        return null;\n      }\n      var _getEdgePositions = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition),\n        sourceX = _getEdgePositions.sourceX,\n        sourceY = _getEdgePositions.sourceY,\n        targetX = _getEdgePositions.targetX,\n        targetY = _getEdgePositions.targetY;\n      return /*#__PURE__*/React.createElement(EdgeComponent, {\n        key: edge.id,\n        id: edge.id,\n        className: cc([edge.className, props.noPanClassName]),\n        type: edgeType,\n        data: edge.data,\n        selected: !!edge.selected,\n        animated: !!edge.animated,\n        hidden: !!edge.hidden,\n        label: edge.label,\n        labelStyle: edge.labelStyle,\n        labelShowBg: edge.labelShowBg,\n        labelBgStyle: edge.labelBgStyle,\n        labelBgPadding: edge.labelBgPadding,\n        labelBgBorderRadius: edge.labelBgBorderRadius,\n        style: edge.style,\n        source: edge.source,\n        target: edge.target,\n        sourceHandleId: edge.sourceHandle,\n        targetHandleId: edge.targetHandle,\n        markerEnd: edge.markerEnd,\n        markerStart: edge.markerStart,\n        sourceX: sourceX,\n        sourceY: sourceY,\n        targetX: targetX,\n        targetY: targetY,\n        sourcePosition: sourcePosition,\n        targetPosition: targetPosition,\n        elementsSelectable: elementsSelectable,\n        onEdgeUpdate: props.onEdgeUpdate,\n        onContextMenu: props.onEdgeContextMenu,\n        onMouseEnter: props.onEdgeMouseEnter,\n        onMouseMove: props.onEdgeMouseMove,\n        onMouseLeave: props.onEdgeMouseLeave,\n        onClick: props.onEdgeClick,\n        edgeUpdaterRadius: props.edgeUpdaterRadius,\n        onEdgeDoubleClick: props.onEdgeDoubleClick,\n        onEdgeUpdateStart: props.onEdgeUpdateStart,\n        onEdgeUpdateEnd: props.onEdgeUpdateEnd,\n        rfId: props.rfId\n      });\n    })));\n  }), renderConnectionLine && /*#__PURE__*/React.createElement(\"svg\", {\n    style: connectionLineContainerStyle,\n    width: width,\n    height: height,\n    className: \"react-flow__edges react-flow__connectionline react-flow__container\"\n  }, /*#__PURE__*/React.createElement(ConnectionLine, {\n    connectionNodeId: connectionNodeId,\n    connectionHandleType: connectionHandleType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineType: connectionLineType,\n    isConnectable: nodesConnectable,\n    CustomConnectionLineComponent: connectionLineComponent\n  })));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = /*#__PURE__*/memo(EdgeRenderer);\nvar selector = function selector(s) {\n  return \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\");\n};\nfunction Viewport(_ref) {\n  var children = _ref.children;\n  var transform = useStore(selector);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__viewport react-flow__container\",\n    style: {\n      transform: transform\n    }\n  }, children);\n}\nfunction useOnInitHandler(onInit) {\n  var ReactFlowInstance = useReactFlow();\n  var isInitialized = useRef(false);\n  useEffect(function () {\n    if (!isInitialized.current && ReactFlowInstance.viewportInitialized && onInit) {\n      setTimeout(function () {\n        return onInit(ReactFlowInstance);\n      }, 1);\n      isInitialized.current = true;\n    }\n  }, [onInit, ReactFlowInstance.viewportInitialized]);\n}\nvar GraphView = function GraphView(_ref) {\n  var nodeTypes = _ref.nodeTypes,\n    edgeTypes = _ref.edgeTypes,\n    onMove = _ref.onMove,\n    onMoveStart = _ref.onMoveStart,\n    onMoveEnd = _ref.onMoveEnd,\n    onInit = _ref.onInit,\n    onNodeClick = _ref.onNodeClick,\n    onEdgeClick = _ref.onEdgeClick,\n    onNodeDoubleClick = _ref.onNodeDoubleClick,\n    onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n    onNodeMouseEnter = _ref.onNodeMouseEnter,\n    onNodeMouseMove = _ref.onNodeMouseMove,\n    onNodeMouseLeave = _ref.onNodeMouseLeave,\n    onNodeContextMenu = _ref.onNodeContextMenu,\n    onSelectionContextMenu = _ref.onSelectionContextMenu,\n    connectionLineType = _ref.connectionLineType,\n    connectionLineStyle = _ref.connectionLineStyle,\n    connectionLineComponent = _ref.connectionLineComponent,\n    connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n    selectionKeyCode = _ref.selectionKeyCode,\n    multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n    zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n    deleteKeyCode = _ref.deleteKeyCode,\n    onlyRenderVisibleElements = _ref.onlyRenderVisibleElements,\n    elementsSelectable = _ref.elementsSelectable,\n    selectNodesOnDrag = _ref.selectNodesOnDrag,\n    translateExtent = _ref.translateExtent,\n    minZoom = _ref.minZoom,\n    maxZoom = _ref.maxZoom,\n    defaultZoom = _ref.defaultZoom,\n    defaultPosition = _ref.defaultPosition,\n    preventScrolling = _ref.preventScrolling,\n    defaultMarkerColor = _ref.defaultMarkerColor,\n    zoomOnScroll = _ref.zoomOnScroll,\n    zoomOnPinch = _ref.zoomOnPinch,\n    panOnScroll = _ref.panOnScroll,\n    panOnScrollSpeed = _ref.panOnScrollSpeed,\n    panOnScrollMode = _ref.panOnScrollMode,\n    zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n    panOnDrag = _ref.panOnDrag,\n    onPaneClick = _ref.onPaneClick,\n    onPaneScroll = _ref.onPaneScroll,\n    onPaneContextMenu = _ref.onPaneContextMenu,\n    onEdgeUpdate = _ref.onEdgeUpdate,\n    onEdgeContextMenu = _ref.onEdgeContextMenu,\n    onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n    onEdgeMouseMove = _ref.onEdgeMouseMove,\n    onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n    edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n    onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n    onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n    noDragClassName = _ref.noDragClassName,\n    noWheelClassName = _ref.noWheelClassName,\n    noPanClassName = _ref.noPanClassName,\n    elevateEdgesOnSelect = _ref.elevateEdgesOnSelect,\n    id = _ref.id;\n  useOnInitHandler(onInit);\n  return /*#__PURE__*/React.createElement(FlowRenderer$1, {\n    onPaneClick: onPaneClick,\n    onPaneContextMenu: onPaneContextMenu,\n    onPaneScroll: onPaneScroll,\n    deleteKeyCode: deleteKeyCode,\n    selectionKeyCode: selectionKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    elementsSelectable: elementsSelectable,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    onSelectionContextMenu: onSelectionContextMenu,\n    preventScrolling: preventScrolling,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, /*#__PURE__*/React.createElement(Viewport, null, /*#__PURE__*/React.createElement(EdgeRenderer$1, {\n    edgeTypes: edgeTypes,\n    onEdgeClick: onEdgeClick,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    onEdgeUpdate: onEdgeUpdate,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: !!elevateEdgesOnSelect,\n    rfId: id\n  }), /*#__PURE__*/React.createElement(NodeRenderer$1, {\n    nodeTypes: nodeTypes,\n    onNodeClick: onNodeClick,\n    onNodeDoubleClick: onNodeDoubleClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    selectNodesOnDrag: selectNodesOnDrag,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    noPanClassName: noPanClassName,\n    noDragClassName: noDragClassName\n  })));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = /*#__PURE__*/memo(GraphView);\nvar GroupNode = function GroupNode() {\n  return null;\n};\nGroupNode.displayName = 'GroupNode';\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar wrapNode = function (NodeComponent) {\n  var NodeWrapper = function NodeWrapper(_ref) {\n    var id = _ref.id,\n      type = _ref.type,\n      data = _ref.data,\n      xPos = _ref.xPos,\n      yPos = _ref.yPos,\n      selected = _ref.selected,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      onContextMenu = _ref.onContextMenu,\n      onDoubleClick = _ref.onDoubleClick,\n      style = _ref.style,\n      className = _ref.className,\n      isDraggable = _ref.isDraggable,\n      isSelectable = _ref.isSelectable,\n      isConnectable = _ref.isConnectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag,\n      sourcePosition = _ref.sourcePosition,\n      targetPosition = _ref.targetPosition,\n      hidden = _ref.hidden,\n      resizeObserver = _ref.resizeObserver,\n      dragHandle = _ref.dragHandle,\n      zIndex = _ref.zIndex,\n      isParent = _ref.isParent,\n      noPanClassName = _ref.noPanClassName,\n      noDragClassName = _ref.noDragClassName,\n      initialized = _ref.initialized;\n    var store = useStoreApi();\n    var nodeRef = useRef(null);\n    var prevSourcePosition = useRef(sourcePosition);\n    var prevTargetPosition = useRef(targetPosition);\n    var prevType = useRef(type);\n    var hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n    var onMouseEnterHandler = getMouseHandler$1(id, store.getState, onMouseEnter);\n    var onMouseMoveHandler = getMouseHandler$1(id, store.getState, onMouseMove);\n    var onMouseLeaveHandler = getMouseHandler$1(id, store.getState, onMouseLeave);\n    var onContextMenuHandler = getMouseHandler$1(id, store.getState, onContextMenu);\n    var onDoubleClickHandler = getMouseHandler$1(id, store.getState, onDoubleClick);\n    var onSelectNodeHandler = function onSelectNodeHandler(event) {\n      if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n        // this handler gets called within the drag start event when selectNodesOnDrag=true\n        handleNodeClick({\n          id: id,\n          store: store\n        });\n      }\n      if (onClick) {\n        var node = store.getState().nodeInternals.get(id);\n        onClick(event, _objectSpread$2({}, node));\n      }\n    };\n    useEffect(function () {\n      if (nodeRef.current && !hidden) {\n        var currNode = nodeRef.current;\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.observe(currNode);\n        return function () {\n          return resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.unobserve(currNode);\n        };\n      }\n    }, [hidden]);\n    useEffect(function () {\n      // when the user programmatically changes the source or handle position, we re-initialize the node\n      var typeChanged = prevType.current !== type;\n      var sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n      var targetPosChanged = prevTargetPosition.current !== targetPosition;\n      if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n        if (typeChanged) {\n          prevType.current = type;\n        }\n        if (sourcePosChanged) {\n          prevSourcePosition.current = sourcePosition;\n        }\n        if (targetPosChanged) {\n          prevTargetPosition.current = targetPosition;\n        }\n        store.getState().updateNodeDimensions([{\n          id: id,\n          nodeElement: nodeRef.current,\n          forceUpdate: true\n        }]);\n      }\n    }, [id, type, sourcePosition, targetPosition]);\n    var dragging = useDrag({\n      nodeRef: nodeRef,\n      disabled: hidden || !isDraggable,\n      noDragClassName: noDragClassName,\n      handleSelector: dragHandle,\n      nodeId: id,\n      isSelectable: isSelectable,\n      selectNodesOnDrag: selectNodesOnDrag\n    });\n    if (hidden) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: cc(['react-flow__node', \"react-flow__node-\".concat(type), noPanClassName, className, {\n        selected: selected,\n        selectable: isSelectable,\n        parent: isParent\n      }]),\n      ref: nodeRef,\n      style: _objectSpread$2({\n        zIndex: zIndex,\n        transform: \"translate(\".concat(xPos, \"px,\").concat(yPos, \"px)\"),\n        pointerEvents: hasPointerEvents ? 'all' : 'none',\n        visibility: initialized ? 'visible' : 'hidden'\n      }, style),\n      onMouseEnter: onMouseEnterHandler,\n      onMouseMove: onMouseMoveHandler,\n      onMouseLeave: onMouseLeaveHandler,\n      onContextMenu: onContextMenuHandler,\n      onClick: onSelectNodeHandler,\n      onDoubleClick: onDoubleClickHandler,\n      \"data-testid\": \"rf__node-\".concat(id),\n      \"data-id\": id\n    }, /*#__PURE__*/React.createElement(Provider, {\n      value: id\n    }, /*#__PURE__*/React.createElement(NodeComponent, {\n      id: id,\n      data: data,\n      type: type,\n      xPos: xPos,\n      yPos: yPos,\n      selected: selected,\n      isConnectable: isConnectable,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      dragging: dragging,\n      dragHandle: dragHandle,\n      zIndex: zIndex\n    })));\n  };\n  NodeWrapper.displayName = 'NodeWrapper';\n  return /*#__PURE__*/memo(NodeWrapper);\n};\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction createNodeTypes(nodeTypes) {\n  var standardTypes = {\n    input: wrapNode(nodeTypes.input || InputNode$1),\n    \"default\": wrapNode(nodeTypes[\"default\"] || DefaultNode$1),\n    output: wrapNode(nodeTypes.output || OutputNode$1),\n    group: wrapNode(nodeTypes.group || GroupNode)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\n    return !['input', 'default', 'output', 'group'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$1(_objectSpread$1({}, standardTypes), specialTypes);\n}\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n  var typesKeysRef = useRef(null);\n  var typesParsed = useMemo(function () {\n    // @ts-ignore\n    if (process.env.NODE_ENV === 'development') {\n      var typeKeys = Object.keys(nodeOrEdgeTypes);\n      if (shallow(typesKeysRef.current, typeKeys)) {\n        console.warn(\"[React Flow]: It looks like you have created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them. Help: https://reactflow.dev/error#200\");\n      }\n      typesKeysRef.current = typeKeys;\n    }\n    return createTypes(nodeOrEdgeTypes);\n  }, [nodeOrEdgeTypes]);\n  return typesParsed;\n}\nfunction injectStyle(css) {\n  if (!css || typeof document === 'undefined') return;\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  head.appendChild(style);\n  style.appendChild(document.createTextNode(css));\n}\nvar Wrapper = function Wrapper(_ref) {\n  var children = _ref.children;\n  var isWrapped = true;\n  try {\n    useStoreApi();\n  } catch (e) {\n    isWrapped = false;\n  }\n  if (isWrapped) {\n    // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n  return /*#__PURE__*/React.createElement(Provider$1, {\n    createStore: createStore\n  }, children);\n};\nWrapper.displayName = 'ReactFlowWrapper';\nvar _excluded = [\"nodes\", \"edges\", \"defaultNodes\", \"defaultEdges\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onNodeClick\", \"onEdgeClick\", \"onInit\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"onClickConnectStart\", \"onClickConnectStop\", \"onClickConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDoubleClick\", \"onNodeDragStart\", \"onNodeDrag\", \"onNodeDragStop\", \"onNodesDelete\", \"onEdgesDelete\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"connectionMode\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"connectionLineContainerStyle\", \"deleteKeyCode\", \"selectionKeyCode\", \"multiSelectionKeyCode\", \"zoomActivationKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleElements\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"elementsSelectable\", \"minZoom\", \"maxZoom\", \"defaultZoom\", \"defaultPosition\", \"translateExtent\", \"preventScrolling\", \"nodeExtent\", \"defaultMarkerColor\", \"zoomOnScroll\", \"zoomOnPinch\", \"panOnScroll\", \"panOnScrollSpeed\", \"panOnScrollMode\", \"zoomOnDoubleClick\", \"panOnDrag\", \"onPaneClick\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\", \"onEdgeUpdate\", \"onEdgeContextMenu\", \"onEdgeDoubleClick\", \"onEdgeMouseEnter\", \"onEdgeMouseMove\", \"onEdgeMouseLeave\", \"onEdgeUpdateStart\", \"onEdgeUpdateEnd\", \"edgeUpdaterRadius\", \"onNodesChange\", \"onEdgesChange\", \"noDragClassName\", \"noWheelClassName\", \"noPanClassName\", \"fitView\", \"fitViewOptions\", \"connectOnClick\", \"attributionPosition\", \"proOptions\", \"defaultEdgeOptions\", \"elevateEdgesOnSelect\"];\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\n{\n  injectStyle(css);\n  injectStyle(theme);\n}\nvar defaultNodeTypes = {\n  input: InputNode$1,\n  \"default\": DefaultNode$1,\n  output: OutputNode$1\n};\nvar defaultEdgeTypes = {\n  \"default\": BezierEdge,\n  straight: StraightEdge,\n  step: StepEdge,\n  smoothstep: SmoothStepEdge,\n  simplebezier: SimpleBezierEdge\n};\nvar initSnapGrid = [15, 15];\nvar initDefaultPosition = [0, 0];\nvar ReactFlow = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var nodes = _ref.nodes,\n    edges = _ref.edges,\n    defaultNodes = _ref.defaultNodes,\n    defaultEdges = _ref.defaultEdges,\n    className = _ref.className,\n    _ref$nodeTypes = _ref.nodeTypes,\n    nodeTypes = _ref$nodeTypes === void 0 ? defaultNodeTypes : _ref$nodeTypes,\n    _ref$edgeTypes = _ref.edgeTypes,\n    edgeTypes = _ref$edgeTypes === void 0 ? defaultEdgeTypes : _ref$edgeTypes,\n    onNodeClick = _ref.onNodeClick,\n    onEdgeClick = _ref.onEdgeClick,\n    onInit = _ref.onInit,\n    onMove = _ref.onMove,\n    onMoveStart = _ref.onMoveStart,\n    onMoveEnd = _ref.onMoveEnd,\n    onConnect = _ref.onConnect,\n    onConnectStart = _ref.onConnectStart,\n    onConnectStop = _ref.onConnectStop,\n    onConnectEnd = _ref.onConnectEnd,\n    onClickConnectStart = _ref.onClickConnectStart,\n    onClickConnectStop = _ref.onClickConnectStop,\n    onClickConnectEnd = _ref.onClickConnectEnd,\n    onNodeMouseEnter = _ref.onNodeMouseEnter,\n    onNodeMouseMove = _ref.onNodeMouseMove,\n    onNodeMouseLeave = _ref.onNodeMouseLeave,\n    onNodeContextMenu = _ref.onNodeContextMenu,\n    onNodeDoubleClick = _ref.onNodeDoubleClick,\n    onNodeDragStart = _ref.onNodeDragStart,\n    onNodeDrag = _ref.onNodeDrag,\n    onNodeDragStop = _ref.onNodeDragStop,\n    onNodesDelete = _ref.onNodesDelete,\n    onEdgesDelete = _ref.onEdgesDelete,\n    onSelectionChange = _ref.onSelectionChange,\n    onSelectionDragStart = _ref.onSelectionDragStart,\n    onSelectionDrag = _ref.onSelectionDrag,\n    onSelectionDragStop = _ref.onSelectionDragStop,\n    onSelectionContextMenu = _ref.onSelectionContextMenu,\n    _ref$connectionMode = _ref.connectionMode,\n    connectionMode = _ref$connectionMode === void 0 ? ConnectionMode.Strict : _ref$connectionMode,\n    _ref$connectionLineTy = _ref.connectionLineType,\n    connectionLineType = _ref$connectionLineTy === void 0 ? ConnectionLineType.Bezier : _ref$connectionLineTy,\n    connectionLineStyle = _ref.connectionLineStyle,\n    connectionLineComponent = _ref.connectionLineComponent,\n    connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n    _ref$deleteKeyCode = _ref.deleteKeyCode,\n    deleteKeyCode = _ref$deleteKeyCode === void 0 ? 'Backspace' : _ref$deleteKeyCode,\n    _ref$selectionKeyCode = _ref.selectionKeyCode,\n    selectionKeyCode = _ref$selectionKeyCode === void 0 ? 'Shift' : _ref$selectionKeyCode,\n    _ref$multiSelectionKe = _ref.multiSelectionKeyCode,\n    multiSelectionKeyCode = _ref$multiSelectionKe === void 0 ? 'Meta' : _ref$multiSelectionKe,\n    _ref$zoomActivationKe = _ref.zoomActivationKeyCode,\n    zoomActivationKeyCode = _ref$zoomActivationKe === void 0 ? 'Meta' : _ref$zoomActivationKe,\n    _ref$snapToGrid = _ref.snapToGrid,\n    snapToGrid = _ref$snapToGrid === void 0 ? false : _ref$snapToGrid,\n    _ref$snapGrid = _ref.snapGrid,\n    snapGrid = _ref$snapGrid === void 0 ? initSnapGrid : _ref$snapGrid,\n    _ref$onlyRenderVisibl = _ref.onlyRenderVisibleElements,\n    onlyRenderVisibleElements = _ref$onlyRenderVisibl === void 0 ? false : _ref$onlyRenderVisibl,\n    _ref$selectNodesOnDra = _ref.selectNodesOnDrag,\n    selectNodesOnDrag = _ref$selectNodesOnDra === void 0 ? true : _ref$selectNodesOnDra,\n    nodesDraggable = _ref.nodesDraggable,\n    nodesConnectable = _ref.nodesConnectable,\n    elementsSelectable = _ref.elementsSelectable,\n    _ref$minZoom = _ref.minZoom,\n    minZoom = _ref$minZoom === void 0 ? 0.5 : _ref$minZoom,\n    _ref$maxZoom = _ref.maxZoom,\n    maxZoom = _ref$maxZoom === void 0 ? 2 : _ref$maxZoom,\n    _ref$defaultZoom = _ref.defaultZoom,\n    defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n    _ref$defaultPosition = _ref.defaultPosition,\n    defaultPosition = _ref$defaultPosition === void 0 ? initDefaultPosition : _ref$defaultPosition,\n    _ref$translateExtent = _ref.translateExtent,\n    translateExtent = _ref$translateExtent === void 0 ? infiniteExtent : _ref$translateExtent,\n    _ref$preventScrolling = _ref.preventScrolling,\n    preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n    nodeExtent = _ref.nodeExtent,\n    _ref$defaultMarkerCol = _ref.defaultMarkerColor,\n    defaultMarkerColor = _ref$defaultMarkerCol === void 0 ? '#b1b1b7' : _ref$defaultMarkerCol,\n    _ref$zoomOnScroll = _ref.zoomOnScroll,\n    zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n    _ref$zoomOnPinch = _ref.zoomOnPinch,\n    zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n    _ref$panOnScroll = _ref.panOnScroll,\n    panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n    _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n    panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n    _ref$panOnScrollMode = _ref.panOnScrollMode,\n    panOnScrollMode = _ref$panOnScrollMode === void 0 ? PanOnScrollMode.Free : _ref$panOnScrollMode,\n    _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n    zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n    _ref$panOnDrag = _ref.panOnDrag,\n    panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n    onPaneClick = _ref.onPaneClick,\n    onPaneScroll = _ref.onPaneScroll,\n    onPaneContextMenu = _ref.onPaneContextMenu,\n    children = _ref.children,\n    onEdgeUpdate = _ref.onEdgeUpdate,\n    onEdgeContextMenu = _ref.onEdgeContextMenu,\n    onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n    onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n    onEdgeMouseMove = _ref.onEdgeMouseMove,\n    onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n    onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n    onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n    _ref$edgeUpdaterRadiu = _ref.edgeUpdaterRadius,\n    edgeUpdaterRadius = _ref$edgeUpdaterRadiu === void 0 ? 10 : _ref$edgeUpdaterRadiu,\n    onNodesChange = _ref.onNodesChange,\n    onEdgesChange = _ref.onEdgesChange,\n    _ref$noDragClassName = _ref.noDragClassName,\n    noDragClassName = _ref$noDragClassName === void 0 ? 'nodrag' : _ref$noDragClassName,\n    _ref$noWheelClassName = _ref.noWheelClassName,\n    noWheelClassName = _ref$noWheelClassName === void 0 ? 'nowheel' : _ref$noWheelClassName,\n    _ref$noPanClassName = _ref.noPanClassName,\n    noPanClassName = _ref$noPanClassName === void 0 ? 'nopan' : _ref$noPanClassName,\n    _ref$fitView = _ref.fitView,\n    fitView = _ref$fitView === void 0 ? false : _ref$fitView,\n    fitViewOptions = _ref.fitViewOptions,\n    _ref$connectOnClick = _ref.connectOnClick,\n    connectOnClick = _ref$connectOnClick === void 0 ? true : _ref$connectOnClick,\n    attributionPosition = _ref.attributionPosition,\n    proOptions = _ref.proOptions,\n    defaultEdgeOptions = _ref.defaultEdgeOptions,\n    _ref$elevateEdgesOnSe = _ref.elevateEdgesOnSelect,\n    elevateEdgesOnSelect = _ref$elevateEdgesOnSe === void 0 ? false : _ref$elevateEdgesOnSe,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n  var edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread(_objectSpread({}, rest), {}, {\n    ref: ref,\n    className: cc(['react-flow', className])\n  }), /*#__PURE__*/React.createElement(Wrapper, null, /*#__PURE__*/React.createElement(GraphView$1, {\n    onInit: onInit,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onNodeClick: onNodeClick,\n    onEdgeClick: onEdgeClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDoubleClick: onNodeDoubleClick,\n    nodeTypes: nodeTypesWrapped,\n    edgeTypes: edgeTypesWrapped,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    selectionKeyCode: selectionKeyCode,\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    selectNodesOnDrag: selectNodesOnDrag,\n    translateExtent: translateExtent,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    preventScrolling: preventScrolling,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    onPaneClick: onPaneClick,\n    onPaneScroll: onPaneScroll,\n    onPaneContextMenu: onPaneContextMenu,\n    onSelectionContextMenu: onSelectionContextMenu,\n    onEdgeUpdate: onEdgeUpdate,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: elevateEdgesOnSelect,\n    id: rest === null || rest === void 0 ? void 0 : rest.id\n  }), /*#__PURE__*/React.createElement(StoreUpdater, {\n    nodes: nodes,\n    edges: edges,\n    defaultNodes: defaultNodes,\n    defaultEdges: defaultEdges,\n    onConnect: onConnect,\n    onConnectStart: onConnectStart,\n    onConnectStop: onConnectStop,\n    onConnectEnd: onConnectEnd,\n    onClickConnectStart: onClickConnectStart,\n    onClickConnectStop: onClickConnectStop,\n    onClickConnectEnd: onClickConnectEnd,\n    nodesDraggable: nodesDraggable,\n    nodesConnectable: nodesConnectable,\n    elementsSelectable: elementsSelectable,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    nodeExtent: nodeExtent,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid,\n    connectionMode: connectionMode,\n    translateExtent: translateExtent,\n    connectOnClick: connectOnClick,\n    defaultEdgeOptions: defaultEdgeOptions,\n    fitView: fitView,\n    fitViewOptions: fitViewOptions,\n    onNodesDelete: onNodesDelete,\n    onEdgesDelete: onEdgesDelete,\n    onNodeDragStart: onNodeDragStart,\n    onNodeDrag: onNodeDrag,\n    onNodeDragStop: onNodeDragStop,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDragStop: onSelectionDragStop\n  }), onSelectionChange && /*#__PURE__*/React.createElement(SelectionListener$1, {\n    onSelectionChange: onSelectionChange\n  }), children, /*#__PURE__*/React.createElement(Attribution, {\n    proOptions: proOptions,\n    position: attributionPosition\n  })));\n});\nReactFlow.displayName = 'ReactFlow';\nvar ReactFlowProvider = function ReactFlowProvider(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(Provider$1, {\n    createStore: createStore\n  }, children);\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\nfunction createUseItemsState(applyChanges) {\n  return function (initialItems) {\n    var _useState = useState(initialItems),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n    var onItemsChange = useCallback(function (changes) {\n      return setItems(function (items) {\n        return applyChanges(changes, items);\n      });\n    }, []);\n    return [items, setItems, onItemsChange];\n  };\n}\nvar useNodesState = createUseItemsState(applyNodeChanges);\nvar useEdgesState = createUseItemsState(applyEdgeChanges);\nexport { BezierEdge, EdgeText$1 as EdgeText, Handle$1 as Handle, ReactFlowProvider, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, ReactFlow as default, getBezierCenter as getBezierEdgeCenter, getBezierPath, getCenter as getEdgeCenter, getMarkerEnd, getSimpleBezierCenter as getSimpleBezierEdgeCenter, getSimpleBezierPath, getSmoothStepPath, useEdgesState, useKeyPress, useNodesState };"],"names":["accounts","Attribution","_ref","proOptions","_ref$position","position","account","includes","hideAttribution","positionClasses","concat","split","className","_","href","target","rel","_excluded$2","ownKeys$c","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","EdgeText","x","y","label","_ref$labelStyle","labelStyle","_ref$labelShowBg","labelShowBg","_ref$labelBgStyle","labelBgStyle","_ref$labelBgPadding","labelBgPadding","_ref$labelBgBorderRad","labelBgBorderRadius","children","rest","edgeRef","useRef","_useState","useState","width","height","_useState2","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","useEffect","current","textBbox","getBBox","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread$c","transform","style","rx","ry","dy","ref","EdgeText$1","memo","BaseEdge","path","centerX","centerY","markerEnd","markerStart","text","d","getControl","ctX","ctY","pos","x1","y1","x2","y2","P","Left","Right","Top","Bottom","getSimpleBezierPath","_ref2","sourceX","sourceY","_ref2$sourcePosition","sourcePosition","targetX","targetY","_ref2$targetPosition","targetPosition","_getControl","_getControl2","sourceControlX","sourceControlY","_getControl3","_getControl4","targetControlX","targetControlY","SimpleBezierEdge","_ref4","_ref4$sourcePosition","_ref4$targetPosition","params","_getSimpleBezierCente","_ref3","_ref3$sourcePosition","_ref3$targetPosition","_getControl5","_getControl6","_getControl7","_getControl8","Math","abs","getSimpleBezierCenter","_getSimpleBezierCente2","ownKeys$b","LeftOrRight","getCenter","_ref$sourcePosition","_ref$targetPosition","sourceIsLeftOrRight","targetIsLeftOrRight","_xOffset","_centerX","_yOffset","xOffset","yOffset","getMouseHandler","id","getState","handler","undefined","event","edge","edges","find","e","_objectSpread$b","bottomLeftCorner","size","leftBottomCorner","bottomRightCorner","rightBottomCorner","leftTopCorner","topLeftCorner","topRightCorner","rightTopCorner","getSmoothStepPath","_ref$borderRadius","borderRadius","_getCenter","_getCenter2","_centerY","offsetX","offsetY","cornerWidth","min","cornerHeight","cornerSize","leftAndRight","cX","cY","firstCornerPath","secondCornerPath","SmoothStepEdge","_ref2$borderRadius","_getCenter3","_getCenter4","ownKeys$a","_objectSpread$a","StepEdge","props","StraightEdge","calculateControlOffset","distance","curvature","sqrt","getControlWithCurvature","c","getBezierPath","_ref2$curvature","_getControlWithCurvat","_getControlWithCurvat2","_getControlWithCurvat3","_getControlWithCurvat4","BezierEdge","_getBezierCenter","_ref3$curvature","_getControlWithCurvat5","_getControlWithCurvat6","_getControlWithCurvat7","_getControlWithCurvat8","getBezierCenter","_getBezierCenter2","NodeIdContext","createContext","Provider","checkElementBelowIsValid","connectionMode","isTarget","nodeId","handleId","isValidConnection","doc","elementBelow","elementFromPoint","clientX","clientY","elementBelowIsTarget","classList","contains","elementBelowIsSource","result","isValid","connection","sourceHandle","targetHandle","isHoveringHandle","elementBelowNodeId","getAttribute","elementBelowHandleId","C","Strict","resetRecentHandle","hoveredHandle","remove","handleMouseDown","onConnect","setState","elementEdgeUpdaterType","onEdgeUpdateEnd","reactFlowNode","closest","g","recentHoveredHandle","_getState","onConnectStart","handleType","containerBounds","getBoundingClientRect","connectionPosition","left","top","connectionNodeId","connectionHandleId","connectionHandleType","addEventListener","onMouseMove","onMouseUp","_getState2","onConnectStop","onConnectEnd","_checkElementBelowIsV2","removeEventListener","_checkElementBelowIsV","add","toggle","Consumer","_excluded$1","ownKeys$9","_objectSpread$9","alwaysValid","selector$a","s","connectionStartHandle","connectOnClick","Handle","forwardRef","_ref$type","type","_ref$isValidConnectio","_ref$isConnectable","isConnectable","onMouseDown","store","u","useContext","_useStore","onConnectExtended","_store$getState","defaultEdgeOptions","onConnectAction","hasDefaultEdges","edgeParams","connectable","connecting","button","onClick","_store$getState3","onClickConnectStart","onClickConnectStop","onClickConnectEnd","displayName","Handle$1","DefaultNode","data","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","selector$9","selectedNodes","Array","from","nodeInternals","values","n","selected","selectedEdges","areEqual","objA","objB","selectedNodeIdsA","map","selectedNodeIdsB","selectedEdgeIdsA","selectedEdgeIdsB","SelectionListener","onSelectionChange","nodes","SelectionListener$1","selector$8","setNodes","setEdges","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","value","setStoreState","useDirectStoreUpdater","StoreUpdater","defaultNodes","defaultEdges","nodesDraggable","nodesConnectable","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","snapToGrid","translateExtent","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","shiftX","shift","shiftY","EdgeAnchor","_ref$radius","radius","cx","cy","r","stroke","fill","wrapEdge","EdgeComponent","EdgeWrapper","onEdgeDoubleClick","animated","hidden","sourceHandleId","targetHandleId","onContextMenu","onMouseEnter","onMouseLeave","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","rfId","updating","setUpdating","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_onEdgeUpdateEnd","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","markerStartUrl","useMemo","markerEndUrl","inactive","handleEdgeUpdate","edgeClasses","addSelectedEdges","nodesSelectionActive","onDoubleClick","onMouseOut","ownKeys$8","_objectSpread$8","createEdgeTypes","edgeTypes","standardTypes","straight","bezier","step","smoothstep","simplebezier","specialTypes","k","reduce","res","getHandlePosition","nodeRect","handle","getHandle","bounds","getNodeData","_node$internalsSymbol","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","node","get","handleBounds","isInvalid","positionAbsolute","document","useKeyPress","keyCode","options","keyPressed","setKeyPressed","pressedKeys","Set","_useMemo","isArray","kc","keysFlat","item","_useMemo2","keyCodes","keysToWatch","_options$target","_options$target2","downHandler","isInputDOMNode","keyOrCode","useKeyOrCode","code","isMatchingKey","preventDefault","upHandler","clear","resetHandler","window","_options$target3","_options$target4","isUp","some","every","has","eventCode","_event$composedPath","composedPath","call","nodeName","hasAttribute","selector$7","eventToFlowTransform","eventViewport","zoom","isWrappedWithClass","selector$6","d3Zoom","d3Selection","d3ZoomHandler","ZoomPane","onMove","onMoveStart","onMoveEnd","_ref$zoomOnScroll","zoomOnScroll","_ref$zoomOnPinch","zoomOnPinch","_ref$panOnScroll","panOnScroll","_ref$panOnScrollSpeed","panOnScrollSpeed","_ref$panOnScrollMode","panOnScrollMode","Free","_ref$zoomOnDoubleClic","zoomOnDoubleClick","selectionKeyPressed","_ref$panOnDrag","panOnDrag","_ref$defaultZoom","defaultZoom","_ref$defaultPosition","defaultPosition","zoomActivationKeyCode","_ref$preventScrolling","preventScrolling","noWheelClassName","noPanClassName","isZoomingOrPanning","zoomPane","prevTransform","zoomActivationKeyPressed","rendererNode","resizeObserver","updateDimensions","onresize","ResizeObserver","observe","unobserve","useResizeHandler","_selection$node","d3ZoomInstance","scaleExtent","selection","clampedX","clampedY","clampedZoom","updatedTransform","translate","scale","on","domNode","stopImmediatePropagation","currentZoom","property","ctrlKey","point","pinchDelta","deltaY","deltaMode","_zoom","pow","scaleTo","deltaNormalize","deltaX","Vertical","Horizontal","translateBy","flowTransform","sourceEvent","prevViewport","zoomScroll","pinchZoom","ownKeys$7","_objectSpread$7","getMousePosition","selector$5","userSelectionActive","initialRect","startX","startY","draw","UserSelection","prevSelectedNodesCount","prevSelectedEdgesCount","userSelectionRect","setUserSelectionRect","resetUserSelection","mousePos","_userSelectionRect$st","_userSelectionRect$st2","nextUserSelectRect","selectedEdgeIds","selectedNodeIds","changes","_changes","ownKeys$6","_objectSpread$6","isParentSelected","parentNode","hasSelector","selector","nodeRef","_current","matches","parentElement","getDragItems","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","extent","getEventHandlerParams","dragItems","extentedDragItems","wrapSelectionDragFunc","selectionFunc","useDrag","_ref$disabled","disabled","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","dragging","setDragging","lastPos","getPointerPosition","useCallback","touches","p","dragHandler","_nodeInternals$get","_store$getState2","multiSelectionActive","unselectNodesAndEdges","onStart","pointerPos","_getEventHandlerParam","_getEventHandlerParam2","currentNode","updateNodePositions","dragItem","snapX","snapY","currentExtent","nextPosition","round","parent","_parent$positionAbsol","_parent$positionAbsol2","_parent$positionAbsol3","_parent$positionAbsol4","_parent","parentX","parentY","parentPosition","_parentNode$positionA","_parentNode$positionA2","_parentNode$positionA3","_parentNode$positionA4","updatePosition","onDrag","_getEventHandlerParam3","_getEventHandlerParam4","_store$getState4","_updateNodePositions","_nodeInternals","onStop","_getEventHandlerParam5","_getEventHandlerParam6","_currentNode","_nodes","ownKeys$5","selector$4","_objectSpread$5","transformString","bboxSelector","NodesSelection","onSelectionContextMenu","_useStore2","NodesSelection$1","selector$3","FlowRenderer","onPaneClick","onPaneContextMenu","onPaneScroll","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","deleteKeyPressed","multiSelectionKeyPressed","hasDefaultNodes","nodesToRemove","connectedEdges","edgesToRemove","edgeIdsToRemove","Map","edgeChanges","nodeChanges","useGlobalKeyHandler","onWheel","resetSelectedElements","FlowRenderer$1","selector$2","updateNodeDimensions","NodeRenderer","onlyRenderVisible","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","nodeElement","forceUpdate","_resizeObserverRef$cu","disconnect","_node$internalsSymbol2","_node$internalsSymbol3","nodeType","nodeTypes","NodeComponent","isDraggable","draggable","selectable","xPos","yPos","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","dragHandle","zIndex","z","isParent","initialized","_oppositePosition","NodeRenderer$1","ownKeys$4","_objectSpread$4","_MarkerSymbols","oppositePosition","ConnectionLine","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","connectionLineStyle","_ref$connectionLineTy","connectionLineType","Bezier","CustomConnectionLineComponent","fromNode","toX","toY","fromHandleBounds","handleBound","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","sourceNode","dAttr","pathParams","Step","SmoothStep","SimpleBezier","_typeof","obj","Symbol","iterator","constructor","prototype","MarkerSymbols","M","Arrow","_ref$color","color","_ref$strokeWidth","strokeWidth","strokeLinecap","strokeLinejoin","points","ArrowClosed","_ref2$color","_ref2$strokeWidth","ownKeys$3","Marker","_ref$width","_ref$height","_ref$markerUnits","markerUnits","_ref$orient","orient","_Symbol","hasOwnProperty","useMarkerSymbol","markerWidth","markerHeight","viewBox","refX","refY","markerSelector","defaultColor","ids","markers","marker","markerId","_objectSpread$3","sort","a","b","localeCompare","MarkerDefinitions","m","MarkerDefinitions$1","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","maxLevel","levelLookup","tree","_nodeInternals$get$in","_nodeInternals$get2","_nodeInternals$get2$i","hasZIndex","max","edgeTree","groupEdgesByZLevel","targetNode","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","xOverlap","yOverlap","ceil","isEdgeVisible","selector$1","EdgeRenderer","defaultMarkerColor","connectionLineComponent","connectionLineContainerStyle","renderConnectionLine","_getNodeData","_getNodeData2","sourceNodeRect","sourceHandleBounds","sourceIsValid","_getNodeData3","_getNodeData4","targetNodeRect","targetHandleBounds","targetIsValid","edgeType","console","warn","targetNodeHandles","_getEdgePositions","sourceHandlePos","targetHandlePos","getEdgePositions","onEdgeClick","EdgeRenderer$1","Viewport","GraphView","onInit","ReactFlowInstance","isInitialized","viewportInitialized","setTimeout","useOnInitHandler","GraphView$1","GroupNode","ownKeys$2","_objectSpread$2","wrapNode","NodeWrapper","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","pointerEvents","visibility","ownKeys$1","_objectSpread$1","createNodeTypes","input","output","group","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","injectStyle","css","head","getElementsByTagName","createElement","appendChild","createTextNode","Wrapper","isWrapped","createStore","_excluded","ownKeys","_objectSpread","defaultNodeTypes","defaultEdgeTypes","initSnapGrid","initDefaultPosition","ReactFlow","_ref$nodeTypes","_ref$edgeTypes","_ref$connectionMode","_ref$deleteKeyCode","_ref$selectionKeyCode","_ref$multiSelectionKe","_ref$zoomActivationKe","_ref$snapToGrid","_ref$snapGrid","_ref$onlyRenderVisibl","_ref$selectNodesOnDra","_ref$minZoom","_ref$maxZoom","_ref$translateExtent","_ref$defaultMarkerCol","_ref$edgeUpdaterRadiu","_ref$noDragClassName","_ref$noWheelClassName","_ref$noPanClassName","_ref$fitView","_ref$connectOnClick","attributionPosition","_ref$elevateEdgesOnSe","nodeTypesWrapped","edgeTypesWrapped","createUseItemsState","applyChanges","initialItems","items","setItems","onItemsChange"],"sourceRoot":""}